System.register(["jimu-core/react","jimu-ui","jimu-core","jimu-arcgis"],(function(e,t){var i={},o={},l={},r={};return{setters:[function(e){i.default=e.default},function(e){o.Button=e.Button,o.Icon=e.Icon,o.Tooltip=e.Tooltip},function(e){l.DataSourceManager=e.DataSourceManager,l.appActions=e.appActions,l.getAppStore=e.getAppStore},function(e){r.JimuMapViewComponent=e.JimuMapViewComponent,r.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules}],execute:function(){e((()=>{var e={6800:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTEyIDUxMiIgaGVpZ2h0PSI1MTJweCIgaWQ9IkxheWVyXzEiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTJweCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGc+PHBhdGggZD0iICAgTTMyMCwyMjJsNDIsMTNjLTkuOC00OS42LTUzLjUtODctMTA2LTg3cy05Ni4yLDM3LjQtMTA2LDg3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjEwIi8+PGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxMCIgeDE9IjM4MSIgeDI9IjM2MiIgeTE9IjE5MS41IiB5Mj0iMjM1Ii8+PHBhdGggZD0iICAgTTE5MiwyOTBsLTQyLTEzYzkuOCw0OS42LDUzLjUsODcsMTA2LDg3czk2LjItMzcuNCwxMDYtODciIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMTAiLz48bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjEwIiB4MT0iMTMxIiB4Mj0iMTUwIiB5MT0iMzIwLjUiIHkyPSIyNzciLz48L2c+PC9zdmc+"},6826:e=>{"use strict";e.exports=r},8891:e=>{"use strict";e.exports=l},1315:e=>{"use strict";e.exports=i},726:e=>{"use strict";e.exports=o}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var l=t[i]={exports:{}};return e[i](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="";var n={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(n),a.d(n,{__set_webpack_public_path__:()=>u,default:()=>p});var e=a(1315),t=a(726),i=a(8891),o=a(6826),l=a(6800),r=a.n(l),s=function(e,t,i,o){return new(i||(i=Promise))((function(l,r){function a(e){try{s(o.next(e))}catch(e){r(e)}}function n(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,n)}s((o=o.apply(e,t||[])).next())}))};const{useState:c,useEffect:d}=e.default;function p(l){var a,n,p;const[u,y]=c(!1),[g,m]=c(!1),[S,v]=c([]),[h,f]=c({}),[b,w]=c(null),A=null===(n=null===(a=l.useDataSources)||void 0===a?void 0:a[0])||void 0===n?void 0:n.dataSourceId,[I,T]=c(!0),D={Alcances:[255,153,50],"Atropellos de animales":[255,255,50],"Atropellos de peatones":[216,255,101],Caidas:[140,255,101],Choques:[153,255,229],Colisiones:[101,178,255],Otros:[0,63,255],"Salidas de vía":[203,0,203],"Sin datos":[182,182,182],Vuelcos:[255,0,197]},x="Tipo_accidente",C=["widget_4","widget_102","widget_132"];function L(e,t,i,o,l){let r;console.log(e+" ,  "+t+" ,  "+i+" ,  "+o+" ,  "+l),r="column"===e?((e,t,i)=>{const o=[{type:"barSeries",id:"",name:"",x:t,y:"OBJECTID",colorType:"singleColor",stackedType:"stacked",fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:"#5E8FD0",outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-900)",width:0}},dataLabels:{type:"chartText",visible:!0,content:{type:"esriTS",color:"var(--dark-600)",font:{family:"Avenir Next",size:10,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",verticalAlignment:"top"}},displayPercentageOnDataLabel:!0,displayNumericValueOnDataLabel:!1,dataLabelsOffset:5,rotated:!1,dataTooltipVisible:!0,query:{where:`${i}=''`}}];for(const l in e){const r={type:"barSeries",id:l,name:l,x:t,y:"OBJECTID",colorType:"singleColor",stackedType:"stacked",fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:`rgb(${e[l][0]}, ${e[l][1]}, ${e[l][2]})`,outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-900)",width:0}},dataLabels:{type:"chartText",visible:!1,content:{type:"esriTS",color:"var(--dark-600)",font:{family:"Avenir Next",size:10,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",verticalAlignment:"top"}},rotated:!1,dataTooltipVisible:!0,query:{where:`${i}='${l}'`}};o.push(r)}const l={type:"barSeries",id:"__other-split-value__",name:"Undefined",x:t,y:"OBJECTID",colorType:"singleColor",stackedType:"stacked",fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:"#D6D6D6",outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-900)",width:0}},dataLabels:{type:"chartText",visible:!1,content:{type:"esriTS",color:"var(--dark-600)",font:{family:"Avenir Next",size:10,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",verticalAlignment:"top"}},rotated:!1,dataTooltipVisible:!0,query:{where:"Tipo_accidente='__other-split-value__'"}};return o.push(l),o})(o,t,i):"widget_55"===l?((e,t)=>{const i=[{type:"pieSeries",colorType:"singleColor",id:"OBJECTID",name:"OBJECTID",x:e,y:"count_of_OBJECTID",innerRadius:0,startAngle:-90,endAngle:270,displayNumericValueOnDataLabel:!0,displayPercentageOnDataLabel:!0,displayNumericValueOnTooltip:!0,displayPercentageOnTooltip:!0,dataLabelsOffset:-100,sliceGrouping:{sliceId:"__other-slice__",percentageThreshold:0,label:"Other",fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:"#D6D6D6",outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-100)",width:0}}},numericValueFormat:{type:"number",intlOptions:{style:"decimal",useGrouping:!0,minimumFractionDigits:0,maximumFractionDigits:1}},percentValueFormat:{type:"number",intlOptions:{style:"percent",notation:"standard",minimumFractionDigits:0,maximumFractionDigits:1}},fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:"#D6D6D6",outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-100)",width:0}},dataLabels:{type:"chartText",visible:!0,content:{type:"esriTS",color:"var(--dark-600)",font:{family:"Avenir Next",size:13,style:"normal",weight:"bold",decoration:"none"},horizontalAlignment:"center",verticalAlignment:"middle",wrap:!0,maxWidth:100}},dataTooltipVisible:!0,query:{where:`${e}=''`},slices:[{sliceId:"",label:"",fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:"#5E8FD0",outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-100)",width:0}}}]}];for(const e in t){const o={sliceId:e,label:e,fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:`rgb(${t[e][0]}, ${t[e][1]}, ${t[e][2]})`,outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-100)",width:0}}};i[0].slices.push(o)}return i})(i,o):((e,t)=>{const i=[{type:"pieSeries",colorType:"singleColor",id:"OBJECTID",name:"OBJECTID",x:e,y:"count_of_OBJECTID",innerRadius:0,startAngle:-90,endAngle:270,displayNumericValueOnDataLabel:!0,displayPercentageOnDataLabel:!1,displayNumericValueOnTooltip:!0,displayPercentageOnTooltip:!0,dataLabelsOffset:2,sliceGrouping:{sliceId:"__other-slice__",percentageThreshold:0,label:"Other",fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:"#D6D6D6",outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-100)",width:0}}},numericValueFormat:{type:"number",intlOptions:{style:"decimal",useGrouping:!0,minimumFractionDigits:0,maximumFractionDigits:3}},percentValueFormat:{type:"number",intlOptions:{style:"percent",notation:"standard",minimumFractionDigits:0,maximumFractionDigits:3}},fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:"#D6D6D6",outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-100)",width:0}},dataLabels:{type:"chartText",visible:!1,content:{type:"esriTS",color:"var(--dark-600)",font:{family:"Avenir Next",size:8,style:"normal",weight:"bold",decoration:"none"},horizontalAlignment:"center",verticalAlignment:"middle",wrap:!0,maxWidth:100}},dataTooltipVisible:!0,query:{where:`${e}=''`},slices:[{sliceId:"",label:"",fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:"#5E8FD0",outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-100)",width:0}}}]}];for(const e in t){const o={sliceId:e,label:e,fillSymbol:{type:"esriSFS",style:"esriSFSSolid",color:`rgb(${t[e][0]}, ${t[e][1]}, ${t[e][2]})`,outline:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-100)",width:0}}};i[0].slices.push(o)}return i})(i,o);const a=[{type:"chartAxis",visible:!0,isLogarithmic:!1,title:{type:"chartText",visible:!1,content:{type:"esriTS",color:"var(--dark-800)",font:{family:"Avenir Next",size:14,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",verticalAlignment:"middle"}},labels:{type:"chartText",visible:!0,content:{type:"esriTS",color:"var(--dark-500)",font:{family:"Avenir Next",size:14,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",verticalAlignment:"middle"}},valueFormat:{type:"category",characterLimit:11},lineSymbol:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-800)",width:1},grid:{type:"esriSLS",style:"esriSLSDash",color:"var(--light-300)",width:0}},{type:"chartAxis",visible:!0,isLogarithmic:!1,title:{type:"chartText",visible:!1,content:{type:"esriTS",color:"var(--dark-800)",font:{family:"Avenir Next",size:14,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",verticalAlignment:"middle"}},labels:{type:"chartText",visible:!0,content:{type:"esriTS",color:"var(--dark-500)",font:{family:"Avenir Next",size:14,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",verticalAlignment:"middle"}},valueFormat:{type:"number",intlOptions:{style:"decimal",useGrouping:!0,minimumFractionDigits:0,maximumFractionDigits:0}},lineSymbol:{type:"esriSLS",style:"esriSLSSolid",color:"var(--light-800)",width:1},grid:{type:"esriSLS",style:"esriSLSDash",color:"var(--light-300)",width:0}}],n={type:"chartText",visible:!0,content:{type:"esriTS",color:"var(--dark-800)",font:{family:"Avenir Next",size:14,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",text:""}},s={type:"chartText",visible:!0,content:{type:"esriTS",color:"var(--black)",font:{family:"Avenir Next",size:24,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",text:""}};return"column"===e?{tools:{cursorEnable:!0},template:e,webChart:{version:"7.3.1",id:e,type:"chart",axes:a,background:"var(--white)",dataSource:{query:{groupByFieldsForStatistics:[t],outStatistics:[{statisticType:"count",onStatisticField:"OBJECTID",outStatisticFieldName:"count_of_OBJECTID"}],orderByFields:[`${t} ASC`],where:`${i}={value}`}},footer:n,legend:{type:"chartLegend",visible:!1,layout:"vertical",labelMaxWidth:200,title:{type:"chartText",visible:!0,content:{type:"esriTS",color:"var(--dark-800)",font:{family:"Avenir Next",size:40,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",text:""}},body:{type:"esriTS",color:"var(--dark-800)",font:{family:"Avenir Next",size:9,style:"normal",weight:"bold",decoration:"none"},horizontalAlignment:"center",text:""},position:"right"},sortLabelsBy:"originalValue",rotated:!1,series:r,title:s}}:{tools:{cursorEnable:!0},template:e,webChart:{version:"7.3.1",id:e,type:"chart",axes:a,background:"var(--white)",dataSource:{query:{groupByFieldsForStatistics:[t],outStatistics:[{statisticType:"count",onStatisticField:"OBJECTID",outStatisticFieldName:"count_of_OBJECTID"}],orderByFields:["count_of_OBJECTID DESC"],where:""}},footer:n,legend:{type:"chartLegend",visible:!0,layout:"vertical",labelMaxWidth:200,title:{type:"chartText",visible:!0,content:{type:"esriTS",color:"var(--dark-800)",font:{family:"Avenir Next",size:40,style:"normal",weight:"normal",decoration:"none"},horizontalAlignment:"center",text:""}},body:{type:"esriTS",color:"var(--dark-800)",font:{family:"Avenir Next",size:9,style:"normal",weight:"bold",decoration:"none"},horizontalAlignment:"center",text:""},position:"right"},sortLabelsBy:"originalValue",rotated:!1,series:r,title:s}}}d((()=>{var e,t;const o=null!==(t=null===(e=(0,i.getAppStore)().getState().appConfig)||void 0===e?void 0:e.widgets)&&void 0!==t?t:{};f(o);const l=Object.values(o||{}).filter((e=>{var t;const i=null!==(t=null==e?void 0:e.uri)&&void 0!==t?t:"";return i.includes("/chart/")||"widgets/common/chart/"===i}));v(l)}),[]);const M=()=>s(this,void 0,void 0,(function*(){b&&A?yield function(e,t,l=!0){var r,a,n,c,d,p;return s(this,void 0,void 0,(function*(){if(!(null==e?void 0:e.view)||!t)return;const s=i.DataSourceManager.getInstance().getDataSource(t),u=null===(r=null==s?void 0:s.getLayer)||void 0===r?void 0:r.call(s),y=u&&"function"==typeof u.then?yield u:u||(null==s?void 0:s.layer);if(!y)return;const g=[],m=e=>{e.forEach((e=>{var t;"feature"===e.type&&g.push(e),(null===(t=e.layers)||void 0===t?void 0:t.length)&&m(e.layers)}))};m(e.view.map.layers);const S=g.find((e=>e.url===(null==y?void 0:y.url)&&e.layerId===(null==y?void 0:y.layerId)))||g.find((e=>{var t,i;return(null===(t=e.portalItem)||void 0===t?void 0:t.id)===(null===(i=null==y?void 0:y.portalItem)||void 0===i?void 0:i.id)}))||null;if(!S)return;const[v]=yield(0,o.loadArcGISJSAPIModules)(["esri/renderers/UniqueValueRenderer"]),h={"Salidas de vía":[203,0,203],Colisiones:[101,178,255],Alcances:[255,153,50],Choques:[153,255,229],Otros:[0,63,255],"Atropellos de animales":[255,255,50],Caidas:[140,255,101],Vuelcos:[255,0,197],"Atropellos de peatones":[216,255,101],"Sin datos":[182,182,182]},f="point"===S.geometryType?"simple-marker":"polyline"===S.geometryType?"simple-line":"simple-fill",b=Object.entries(h).map((([e,t])=>({value:e,label:e,symbol:"simple-marker"===f?{type:"simple-marker",color:t,size:6,outline:null}:"simple-line"===f?{type:"simple-line",color:t,width:2}:{type:"simple-fill",color:t,outline:{color:[0,0,0,.2],width:.5}}}))),w=new v({field:"Tipo_accidente",defaultSymbol:"simple-marker"===f?{type:"simple-marker",color:[195,195,195],size:6,outline:null}:"simple-line"===f?{type:"simple-line",color:[195,195,195],width:2}:{type:"simple-fill",color:[195,195,195,.6],outline:{color:[0,0,0,.2],width:.5}},uniqueValueInfos:b});if(S.renderer=w,l){const e=S.featureReduction;e&&"cluster"===e.type||(S.featureReduction={type:"cluster",clusterMinSize:16});try{const[e]=yield(0,o.loadArcGISJSAPIModules)(["esri/smartMapping/renderers/pieChart"]),{renderer:t,fields:i}=yield e.createRendererForClustering({layer:S,legendOptions:{title:"Tipo de accidente (clúster)"}});null===(a=null==t?void 0:t.attributes)||void 0===a||a.forEach((e=>{var t,i;const o=(e.label||"").trim(),l=h[o];l&&(null===(t=e.symbol)||void 0===t?void 0:t.color)&&(e.symbol.color=l),/default/i.test(e.field)&&(null===(i=e.symbol)||void 0===i?void 0:i.color)&&(e.symbol.color=[195,195,195])})),S.featureReduction={type:"cluster",fields:i,clusterMinSize:16,renderer:t,popupTemplate:{title:"Resumen del clúster",content:[{type:"text",text:"Este clúster representa <b>{cluster_count}</b> elementos."},{type:"media",mediaInfos:[{title:"Tipo de accidente",type:"pie-chart",value:{fields:i.map((e=>e.name))}}]}]}}}catch(e){console.warn("No se pudo crear el pie cluster, se mantiene el cluster básico:",e)}}else try{S.featureReduction=void 0}catch(e){}yield e.view.when(),yield e.view.whenLayerView(S),null===(c=(n=S).refresh)||void 0===c||c.call(n),null===(p=(d=e.view).requestRender)||void 0===p||p.call(d),console.log('✔️ Mapa actualizado por "Tipo_accidente" (cluster:',l,")")}))}(b,A,!0):console.warn("Falta jmv o dataSourceId")})),_=e.default.useRef(null);function z(e){!function(e){var t;const o=(0,i.getAppStore)(),l=null===(t=_.current)||void 0===t?void 0:t[e];l?o.dispatch(i.appActions.widgetConfigLoaded(e,l)):console.warn("[recargarConfigInicial] No hay snapshot para",e)}(e),(0,i.getAppStore)().dispatch(i.appActions.widgetStatePropChange(e,"restartTrigger",Date.now()))}e.default.useEffect((()=>{if(!_.current){const e=(0,i.getAppStore)().getState().appConfig;_.current=e.widgets.asMutable({deep:!0})}}),[]);const O=Object.assign({borderRadius:"50%",width:"40px",height:"40px",minWidth:"unset",minHeight:"unset",backgroundColor:"transparent",color:"black",border:"none",boxShadow:"none",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",paddingLeft:"25px"},u?{backgroundColor:"rgba(0, 0, 0, 0.1)"}:{});function F(e){var t,i,o,l,r,a,n,c,d,p,u,y,g,m;return s(this,void 0,void 0,(function*(){try{null===(i=(t=e).clearSelection)||void 0===i||i.call(t),null===(l=(o=e).setSelectedRecords)||void 0===l||l.call(o,[]),null===(a=(r=e).selectRecordsByIds)||void 0===a||a.call(r,[]);const s={where:"1=1",orderByFields:[],objectIds:null,page:1};null===(c=(n=e).setQueryParams)||void 0===c||c.call(n,s,"widget_emisor"),null===(p=(d=e).updateQueryParams)||void 0===p||p.call(d,s,"widget_emisor"),((null===(y=(u=e).getDataViews)||void 0===y?void 0:y.call(u))||[]).forEach((t=>{var i,o,l,r,a;const n=null===(o=(i=e).getDataView)||void 0===o?void 0:o.call(i,t);null===(l=null==n?void 0:n.setQueryParams)||void 0===l||l.call(n,s,"widget_emisor"),null===(r=null==n?void 0:n.updateQueryParams)||void 0===r||r.call(n,s,"widget_emisor"),null===(a=null==n?void 0:n.clearSelection)||void 0===a||a.call(n)})),yield null===(m=(g=e).refresh)||void 0===m?void 0:m.call(g)}catch(e){console.warn("clearDsFilters error:",e)}}))}return e.default.createElement("div",{className:"jimu-widget"},1===(null===(p=l.useMapWidgetIds)||void 0===p?void 0:p.length)&&e.default.createElement(o.JimuMapViewComponent,{useMapWidgetId:l.useMapWidgetIds[0],onActiveViewChange:w}),e.default.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},e.default.createElement(t.Tooltip,{title:"Eliminar filtros salvo Carretera, PK y Año",placement:"top",showArrow:!0,open:g,style:{backgroundColor:"#333",color:"#fff",fontSize:"0.9rem",borderRadius:"6px"}},e.default.createElement(t.Button,{type:"primary",onClick:function(){return s(this,void 0,void 0,(function*(){var e;window.SimbologiaSeleccionada="",yield function(){var e,t,o,r;return s(this,void 0,void 0,(function*(){const a=i.DataSourceManager.getInstance(),n=null===(t=null===(e=l.useDataSources)||void 0===e?void 0:e[0])||void 0===t?void 0:t.dataSourceId,s=new Set;n&&s.add(n),((null===(r=(o=a).getAppDataSources)||void 0===r?void 0:r.call(o))||[]).forEach((e=>s.add(e.id)));for(const e of s){const t=a.getDataSource(e);t&&(yield F(t))}}))}(),(0,i.getAppStore)().dispatch(i.appActions.widgetStatePropChange("widget_16","clearAllFiltersTrigger",Date.now())),(()=>{if(D){const e={widget_2:x,widget_4:"Año",widget_5:"Mes",widget_6:"Dia",widget_7:"Mes_Año",widget_9:"PK",widget_10:"Kilometro",widget_159:"Año",widget_160:"Mes",widget_161:"Dia",widget_162:"Mes_Año",widget_173:"PK",widget_172:"Kilometro",widget_55:x},t=(0,i.getAppStore)().getState().appConfig.widgets;f(t);const o=Object.values(t);console.log(o.filter((e=>"widgets/common/chart/"===e.uri)));for(const t in S)"widget_2"===S[t].id||"widget_55"===S[t].id?(0,i.getAppStore)().dispatch(i.appActions.widgetConfigLoaded(S[t].id,L("pie",e[S[t].id],x,D,S[t].id))):(0,i.getAppStore)().dispatch(i.appActions.widgetConfigLoaded(S[t].id,L("column",e[S[t].id],x,D,null)));(0,i.getAppStore)().getState().appConfig.campo=x}})(),yield M(),function(){const e=(0,i.getAppStore)().getState().appConfig.widgets;for(const t of C)(null==e?void 0:e[t])&&((0,i.getAppStore)().dispatch(i.appActions.widgetConfigLoaded(t,L("column","Año","Tipo_accidente",D,null))),(0,i.getAppStore)().dispatch(i.appActions.widgetStatePropChange(t,"forceRenderNonce",Date.now())))}(),z("widget_16"),z("widget_14"),e="widget_131",(0,i.getAppStore)().dispatch(i.appActions.resetWidgetState(e)),(0,i.getAppStore)().dispatch(i.appActions.widgetStatePropChange("widget_14","resetCampoTrigger",Date.now())),function(e){const t=(0,i.getAppStore)();t.dispatch(i.appActions.widgetStatePropChange(e,"categoryFieldOverride","Tipo_accidente"));t.dispatch(i.appActions.widgetStatePropChange(e,"categoryColorsOverride",{Alcances:"#ff8a00","Atropellos de animales":"#ffff32","Atropellos de peatones":"#d8ff65",Caídas:"#00ff6a",Choques:"#99ffe5",Colisiones:"#65b2ff",Otros:"#003fff","Salidas de vía":"#cb00cb","Sin datos":"#bfbfbf",Vuelcos:"#ff00c5"})),t.dispatch(i.appActions.widgetStatePropChange(e,"categoryValuesOverride",[])),console.log(`Gráfico ${e} restaurado a Tipo_accidente`)}("widget_168"),function(){const e="widget_14",t=(0,i.getAppStore)();t.dispatch(i.appActions.widgetStatePropChange(e,"resetCampoTrigger",Date.now())),t.dispatch(i.appActions.widgetStatePropChange(e,"valuesOverride",{value:"",nonce:Date.now()}))}(),z("widget_170"),setTimeout((()=>{(0,i.getAppStore)().dispatch(i.appActions.widgetStatePropChange("widget_170","doClearAllTs",Date.now()))}),0)}))},"aria-label":"Eliminar filtros",style:O,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)},e.default.createElement(t.Icon,{icon:r(),size:"m",style:{display:"block",width:"40px",height:"40px"}})))))}function u(e){a.p=e}})(),n})())}}}));