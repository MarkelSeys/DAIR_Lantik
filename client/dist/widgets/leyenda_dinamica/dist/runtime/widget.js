System.register(["jimu-core","jimu-arcgis","jimu-core/react","jimu-ui/advanced/setting-components","esri/renderers/UniqueValueRenderer","esri/smartMapping/renderers/pieChart","jimu-ui"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_react__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_renderers_UniqueValueRenderer__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_smartMapping_renderers_pieChart__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_react__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_renderers_UniqueValueRenderer__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_smartMapping_renderers_pieChart__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_react__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_renderers_UniqueValueRenderer__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_smartMapping_renderers_pieChart__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./your-extensions/widgets/leyenda_dinamica/src/runtime/translations/default.ts":
/*!**************************************************************************************!*\
  !*** ./your-extensions/widgets/leyenda_dinamica/src/runtime/translations/default.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
  Licensing

  Copyright 2022 Esri

  Licensed under the Apache License, Version 2.0 (the "License"); You
  may not use this file except in compliance with the License. You may
  obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
  implied. See the License for the specific language governing
  permissions and limitations under the License.

  A copy of the license is available in the repository's
  LICENSE file.
*/
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    _widgetLabel: 'Leyenda din√°mica',
    chooseAttribute: 'Visualizaci√≥n por atributo'
});


/***/ }),

/***/ "esri/renderers/UniqueValueRenderer":
/*!*****************************************************!*\
  !*** external "esri/renderers/UniqueValueRenderer" ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_renderers_UniqueValueRenderer__;

/***/ }),

/***/ "esri/smartMapping/renderers/pieChart":
/*!*******************************************************!*\
  !*** external "esri/smartMapping/renderers/pieChart" ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_smartMapping_renderers_pieChart__;

/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "react":
/*!**********************************!*\
  !*** external "jimu-core/react" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ }),

/***/ "jimu-ui/advanced/setting-components":
/*!******************************************************!*\
  !*** external "jimu-ui/advanced/setting-components" ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__;

/***/ }),

/***/ "./your-extensions/widgets/pruebas/src/runtime/assets/accidentColors.json":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/pruebas/src/runtime/assets/accidentColors.json ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"Tipo_accidente":{"salidas_de_via":{"color":"rgba(203, 0, 203, 1)","nombre":"Salidas de v√≠a"},"colisiones":{"color":"rgba(101, 178, 255, 1)","nombre":"Colisiones"},"alcances":{"color":"rgba(255, 153, 50, 1)","nombre":"Alcances"},"choques":{"color":"rgba(153, 255, 229, 1)","nombre":"Choques"},"otros":{"color":"rgba(0, 63, 255, 1)","nombre":"Otros"},"atropellos_de_animales":{"color":"rgba(255, 255, 50, 1)","nombre":"Atropellos de animales"},"caidas":{"color":"rgba(140, 255, 101, 1)","nombre":"Ca√≠das"},"vuelcos":{"color":"rgba(255, 0, 197, 1)","nombre":"Vuelcos"},"atropellos_de_peatones":{"color":"rgba(216, 255, 101, 1)","nombre":"Atropellos de peatones"},"sin_datos":{"color":"rgba(182, 182, 182, 1)","nombre":"Sin datos"},"no_definido":{"color":"rgba(214, 214, 214, 1)","nombre":"No definido"}},"Sentido":{"Ascendente":{"color":"rgba(255,125,125,1)","nombre":"Ascendente"},"Descendente":{"color":"rgba(77,147,217,1)","nombre":"Descendente"},"Sin_datos":{"color":"rgba(151,151,151,1)","nombre":"Sin datos"}},"Superficie":{"no_consta":{"color":"rgba(191,191,191,1)","nombre":"No consta"},"seca_y_limpia":{"color":"rgba(190,233,173,1)","nombre":"Seca y limpia"},"umbria":{"color":"rgba(184,231,254,1)","nombre":"Umbr√≠a"},"mojada":{"color":"rgba(94,184,246,1)","nombre":"Mojada"},"muy_encharcado_o_inundado":{"color":"rgba(15,65,177,1)","nombre":"Muy encharcado o inundado"},"helada":{"color":"rgba(238,245,252,1)","nombre":"Helada"},"nevada":{"color":"rgba(255,255,243,1)","nombre":"Nevada"},"aceite":{"color":"rgba(255,255,153,1)","nombre":"Aceite"},"con_barro_o_gravilla_suelta":{"color":"rgba(255,190,125,1)","nombre":"Con barro o gravilla suelta"},"gravilla_suelta":{"color":"rgba(255,224,193,1)","nombre":"Gravilla suelta"},"barrillo":{"color":"rgba(255,155,55,1)","nombre":"Barrillo"},"otro_tipo":{"color":"rgba(217,179,255,1)","nombre":"Otro tipo"},"sin_datos":{"color":"rgba(151,151,151,1)","nombre":"Sin datos"}},"Luminosidad":{"no_consta":{"color":"rgba(191,191,191,1)","nombre":"No consta"},"luz_del_dia_natural_solar":{"color":"rgba(255,255,75,1)","nombre":"Luz del d√≠a natural, solar"},"amanecer_o_atardecer_con_luz_artificial":{"color":"rgba(255,219,105,1)","nombre":"Amanecer o atardecer con luz artificial"},"amanecer_o_atardecer_sin_luz_artificial":{"color":"rgba(255,176,97,1)","nombre":"Amanecer o atardecer sin luz artificial"},"sin_luz_natural_luz_artificial_suficiente":{"color":"rgba(255,225,255,1)","nombre":"Sin luz natural, luz artificial suficiente"},"sin_luz_natural_luz_artificial_insuficiente":{"color":"rgba(37,105,173,1)","nombre":"Sin luz natural, luz artificial insuficiente"},"sin_iluminacion_natural_ni_artificial":{"color":"rgba(21,61,100,1)","nombre":"Sin iluminaci√≥n natural ni artificial"},"crepusculo":{"color":"rgba(244,191,162,1)","nombre":"Crep√∫sculo"},"sin_datos":{"color":"rgba(151,151,151,1)","nombre":"Sin datos"}},"Factores_atmosfericos":{"no_consta":{"color":"rgba(191,191,191,1)","nombre":"No consta"},"despejado":{"color":"rgba(255,255,75,1)","nombre":"Despejado"},"niebla_intensa":{"color":"rgba(240,241,227,1)","nombre":"Niebla intensa"},"niebla_ligera":{"color":"rgba(255,255,204,1)","nombre":"Niebla ligera"},"lluvia_debil":{"color":"rgba(185,255,255,1)","nombre":"Lluvia d√©bil"},"lluvia_fuerte":{"color":"rgba(117,171,225,1)","nombre":"Lluvia fuerte"},"granizando":{"color":"rgba(37,105,173,1)","nombre":"Granizando"},"nevando":{"color":"rgba(21,61,100,1)","nombre":"Nevando"},"viento_fuerte":{"color":"rgba(241,169,131,1)","nombre":"Viento fuerte"},"nublado":{"color":"rgba(217,217,217,1)","nombre":"Nublado"},"otro":{"color":"rgba(217,179,255,1)","nombre":"Otro"},"sin_datos":{"color":"rgba(151,151,151,1)","nombre":"Sin datos"}},"Tipo_dia":{"festivo":{"color":"rgba(255,124,128,1)","nombre":"Festivo"},"laborable":{"color":"rgba(190,233,173,1)","nombre":"Laborable"},"posterior_a_festivo":{"color":"rgba(217,179,255,1)","nombre":"Posterior a festivo"},"vispera_de_festivo":{"color":"rgba(255,190,125,1)","nombre":"V√≠spera de festivo"},"sin_datos":{"color":"rgba(151,151,151,1)","nombre":"Sin datos"}},"Factor_Concurrente_3":{"adelantamiento_antirreglamentario":{"color":"rgba(255,215,175,1)","nombre":"Adelantamiento antirreglamentario"},"alcohol":{"color":"rgba(74,154,42,1)","nombre":"Alcohol"},"alcohol_o_drogas":{"color":"rgba(190,233,173,1)","nombre":"Alcohol o drogas"},"averia_mecanica":{"color":"rgba(185,255,255,1)","nombre":"Aver√≠a mec√°nica"},"caida_de_carga_en_la_calzada":{"color":"rgba(255,219,105,1)","nombre":"Ca√≠da de carga en la calzada"},"cansancio_sueno_o_enfermedad":{"color":"rgba(245,235,255,1)","nombre":"Cansancio, sue√±o o enfermedad"},"conduccion_distraida_o_desatenta":{"color":"rgba(217,179,255,1)","nombre":"Conducci√≥n distraida o desatenta"},"conduccion_negligente":{"color":"rgba(255,55,60,1)","nombre":"Conducci√≥n negligente"},"conduccion_temeraria":{"color":"rgba(255,124,128,1)","nombre":"Conducci√≥n temeraria"},"distraccion":{"color":"rgba(217,179,255,1)","nombre":"Distracci√≥n"},"drogas":{"color":"rgba(190,233,173,1)","nombre":"Drogas"},"enfermedad":{"color":"rgba(21,61,100,1)","nombre":"Enfermedad"},"estado_o_condicion_de_la_senalizacion":{"color":"rgba(238,238,238,1)","nombre":"Estado o condici√≥n de la se√±alizaci√≥n"},"estado_o_condicion_de_la_via":{"color":"rgba(191,191,191,1)","nombre":"Estado o condici√≥n de la v√≠a"},"giro_incorrecto":{"color":"rgba(254,218,227,1)","nombre":"Giro incorrecto"},"inexperiencia_del_conductor":{"color":"rgba(176,254,235,1)","nombre":"Inexperiencia del conductor"},"infraccion_a_norma_de_circulacion":{"color":"rgba(255,175,177,1)","nombre":"Infracci√≥n a norma de circulaci√≥n"},"irrumpir_animal_en_calzada":{"color":"rgba(213,171,129,1)","nombre":"Irrumpir animal en calzada"},"irrumpir_peaton_en_calzada":{"color":"rgba(164,109,54,1)","nombre":"Irrumpir peat√≥n en calzada"},"mal_estado_del_vehiculo":{"color":"rgba(117,171,225,1)","nombre":"Mal estado del veh√≠culo"},"meteorologia_adversa":{"color":"rgba(37,105,173,1)","nombre":"Meteorolog√≠a adversa"},"no_mantener_intervalo_de_seguridad":{"color":"rgba(255,182,109,1)","nombre":"No mantener intervalo de seguridad"},"no_respetar_prioridad":{"color":"rgba(255,153,51,1)","nombre":"No respetar prioridad"},"obstaculo_en_calzada":{"color":"rgba(255,219,105,1)","nombre":"Obst√°culo en calzada"},"otro_factor":{"color":"rgba(255,193,255,1)","nombre":"Otro factor"},"presencia_de_un_obstaculo_en_la_calzada":{"color":"rgba(255,219,105,1)","nombre":"Presencia de un obst√°culo en la calzada"},"sin_opinion_definida":{"color":"rgba(255,255,204,1)","nombre":"Sin opini√≥n definida"},"tramo_en_obras":{"color":"rgba(255,255,75,1)","nombre":"Tramo en obras"},"velocidad_inadecuada":{"color":"rgba(190,125,255,1)","nombre":"Velocidad inadecuada"}},"Subtipo_Accidente":{"alcance":{"color":"rgba(255,224,193,1)","nombre":"Alcance"},"multiple_o_en_caravana":{"color":"rgba(255,153,51,1)","nombre":"M√∫ltiple o en caravana"},"caida_en_calzada":{"color":"rgba(0,255,0,1)","nombre":"Caida en calzada"},"choque_con_arbol_o_poste":{"color":"rgba(255,225,255,1)","nombre":"Choque con √°rbol o poste"},"choque_con_arbol_o_poste_izqd":{"color":"rgba(215,107,205,1)","nombre":"Choque con √°rbol o poste izqd"},"choque_con_cuneta_o_bordillo":{"color":"rgba(37,105,173,1)","nombre":"Choque con cuneta o bordillo"},"choque_con_cuneta_o_bordillo_izqd":{"color":"rgba(21,61,100,1)","nombre":"Choque con cuneta o bordillo izqd"},"choque_con_murete_o_edificio":{"color":"rgba(190,233,173,1)","nombre":"Choque con murete o edificio"},"choque_con_murete_o_edificio_izqd":{"color":"rgba(74,154,42,1)","nombre":"Choque con murete o edificio izqd"},"otro_tipo_de_choque":{"color":"rgba(213,171,129,1)","nombre":"Otro tipo de choque"},"otro_tipo_de_choque_izqd":{"color":"rgba(164,109,54,1)","nombre":"Otro tipo de choque izqd"},"en_llano":{"color":"rgba(255,255,75,1)","nombre":"En llano"},"en_llano_izqd":{"color":"rgba(255,219,105,1)","nombre":"En llano izqd"},"con_vuelco":{"color":"rgba(255,175,177,1)","nombre":"Con vuelco"},"con_vuelco_izqd":{"color":"rgba(255,124,128,1)","nombre":"Con vuelco izqd"},"con_despenamiento":{"color":"rgba(245,235,255,1)","nombre":"Con despe√±amiento"},"con_despenamiento_izqd":{"color":"rgba(217,179,255,1)","nombre":"Con despe√±amiento izqd"},"otra_salida":{"color":"rgba(199,199,199,1)","nombre":"Otra salida"},"otra_salida_izqd":{"color":"rgba(138,138,138,1)","nombre":"Otra salida izqd"},"solo_salida_de_via":{"color":"rgba(204,56,186,1)","nombre":"S√≥lo Salida de V√≠a"},"despenamiento":{"color":"rgba(81,21,74,1)","nombre":"Despe√±amiento"},"vuelco_en_la_calzada":{"color":"rgba(253,23,138,1)","nombre":"Vuelco en la calzada"},"otro":{"color":"rgba(0,0,255,1)","nombre":"Otro"},"frontal":{"color":"rgba(192,230,245,1)","nombre":"Frontal"},"frontolateral":{"color":"rgba(94,184,246,1)","nombre":"Frontolateral"},"lateral":{"color":"rgba(6,83,136,1)","nombre":"Lateral"},"obstaculo_o_elemento_de_la_via":{"color":"rgba(176,254,235,1)","nombre":"Obst√°culo o elemento de la v√≠a"},"otro_objeto_o_material":{"color":"rgba(15,241,214,1)","nombre":"Otro objeto o material"},"vehiculo_estacionado_averiado":{"color":"rgba(10,178,158,1)","nombre":"Veh√≠culo estacionado/averiado"},"barrera_de_paso_a_nivel":{"color":"rgba(6,98,87,1)","nombre":"Barrera de paso a nivel"},"valla_de_defensa":{"color":"rgba(11,245,156,1)","nombre":"Valla de defensa"},"choque_contra_barrera_de_seguridad":{"color":"rgba(24,130,74,1)","nombre":"Choque contra barrera de seguridad"},"peaton_aislado":{"color":"rgba(139,208,0,1)","nombre":"Peat√≥n aislado"},"peaton_aislado_o_en_grupo":{"color":"rgba(97,146,0,1)","nombre":"Peat√≥n aislado o en grupo"},"peaton_sosteniendo_bicicleta":{"color":"rgba(194,255,71,1)","nombre":"Peat√≥n sosteniendo bicicleta"},"peaton_reparando_vehiculo":{"color":"rgba(159,248,144,1)","nombre":"Peat√≥n reparando veh√≠culo"},"conductor_de_animales":{"color":"rgba(217,201,83,1)","nombre":"Conductor de animales"},"animal_conducido_o_rebano":{"color":"rgba(255,255,0,1)","nombre":"Animal conducido o reba√±o"},"animales_sueltos":{"color":"rgba(255,255,159,1)","nombre":"Animales sueltos"}}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/**
 * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.
 * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.
 * */
// eslint-disable-next-line
// @ts-ignore
__webpack_require__.p = window.jimuConfig.baseUrl;

})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*************************************************************************!*\
  !*** ./your-extensions/widgets/leyenda_dinamica/src/runtime/widget.tsx ***!
  \*************************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __set_webpack_public_path__: () => (/* binding */ __set_webpack_public_path__),
/* harmony export */   "default": () => (/* binding */ DinLeyend)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./translations/default */ "./your-extensions/widgets/leyenda_dinamica/src/runtime/translations/default.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ "jimu-ui/advanced/setting-components");
/* harmony import */ var esri_renderers_UniqueValueRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! esri/renderers/UniqueValueRenderer */ "esri/renderers/UniqueValueRenderer");
/* harmony import */ var esri_smartMapping_renderers_pieChart__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! esri/smartMapping/renderers/pieChart */ "esri/smartMapping/renderers/pieChart");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _pruebas_src_runtime_assets_accidentColors_json__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../pruebas/src/runtime/assets/accidentColors.json */ "./your-extensions/widgets/pruebas/src/runtime/assets/accidentColors.json");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};








// import Legend from "esri/widgets/Legend";
// import LegendVM from "esri/widgets/Legend/LegendViewModel";
// IMPORTA TU DICCIONARIO DE COLORES
// Ajusta la ruta si el archivo est√° en otra carpeta.

const normalizeKey = (s) => {
    if (!s)
        return "";
    // Correcci√≥n de errores frecuentes desde la capa
    const corrections = {
        "inudado": "inundado",
        "encharcado": "encharcado",
        "gravilla": "gravilla",
        "barro": "barro"
    };
    // 1) quitar tildes y min√∫sculas
    let result = s
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .toLowerCase();
    // 2) aplicar correcciones internas
    Object.keys(corrections).forEach(key => {
        result = result.replace(new RegExp(key, "g"), corrections[key]);
    });
    // 3) eliminar palabras irrelevantes
    const stopwords = ["de", "del", "la", "el", "los", "las", "o", "y"];
    result = result
        .split(/\s+/)
        .filter(word => !stopwords.includes(word))
        .join(" ");
    // 4) limpiar caracteres
    result = result.replace(/[^a-z0-9]+/g, "_");
    return result.replace(/^_|_$/g, "");
};
/** extrae [r,g,b] desde 'rgba(r,g,b,a)' o 'rgb(r,g,b)' */
const parseRgba = (rgba) => {
    const m = rgba === null || rgba === void 0 ? void 0 : rgba.match(/rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/i);
    return m ? [Number(m[1]), Number(m[2]), Number(m[3])] : null;
};
function capitalizeFirstLetter(str) {
    if (!str)
        return '';
    return str.charAt(0).toUpperCase() + str.slice(1);
}
/** obtiene el color [r,g,b] desde el JSON para (campo, valor). Si no existe -> null */
const getColorFromJson = (fieldName, value) => {
    var campoPrimeraMayusculas = capitalizeFirstLetter(fieldName);
    if (_pruebas_src_runtime_assets_accidentColors_json__WEBPACK_IMPORTED_MODULE_8__[campoPrimeraMayusculas]) {
        for (const key in _pruebas_src_runtime_assets_accidentColors_json__WEBPACK_IMPORTED_MODULE_8__[campoPrimeraMayusculas]) {
            console.log('Primero:' + _pruebas_src_runtime_assets_accidentColors_json__WEBPACK_IMPORTED_MODULE_8__[campoPrimeraMayusculas][key].nombre.toLowerCase() + '      Segundo:    ' + value.toLowerCase());
            //console.log('Segundo'+value.toLowerCase())
            if (normalizeKey(_pruebas_src_runtime_assets_accidentColors_json__WEBPACK_IMPORTED_MODULE_8__[campoPrimeraMayusculas][key].nombre.toLowerCase()) ===
                normalizeKey(value.toLowerCase())) {
                return _pruebas_src_runtime_assets_accidentColors_json__WEBPACK_IMPORTED_MODULE_8__[campoPrimeraMayusculas][key].color;
                break;
            }
        }
        return "rgb(200, 200, 200)";
    }
    else {
        return null;
    }
};
function DinLeyend(props) {
    var _a;
    const supportedFieldTypes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([jimu_core__WEBPACK_IMPORTED_MODULE_0__.JimuFieldType.String]);
    const [nombre, setNombre] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(''); //Tipo_accidente
    const [jimuMapView, setJimuMapView] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();
    const [nombreCapa, setNombreCapa] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('');
    const [seleccionables, setSeleccionables] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]));
    const [valoresAgg, setValoresAgg] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);
    const [ejecutar, setEjecutar] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);
    const [cluster, setCluster] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);
    const [attUnico, setAttUnico] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);
    // const [layer, setLayer] = useState<Layer>()
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {
        if (props.useDataSources && props.useDataSources.length > 0) {
            const nombreCapa = props.useDataSources[0].dataSourceId.split('-')[1];
            setNombreCapa(nombreCapa); // No cambia el estilo al cambiar la fuente de datos de la capa, mirarlo bien
        }
    }, [props.useDataSources]);
    function comparacion(atributos, listaNombres) {
        const final = {};
        listaNombres = listaNombres.map(String);
        for (const atributo of atributos) {
            const nAciertos = {};
            const listaAciertos = [];
            for (const nombre of listaNombres) {
                let aciertos = 0;
                if (atributo.length === nombre.length) {
                    for (let i = 0; i < atributo.length; i++) {
                        if (atributo[i] === nombre[i]) {
                            aciertos++;
                        }
                    }
                }
                nAciertos[aciertos] = nombre;
                listaAciertos.push(aciertos);
            }
            function comparar(a, b) {
                return b - a; // Resta b de a para ordenar de mayor a menor
            }
            listaAciertos.sort(comparar);
            if (listaAciertos[0] === 0) {
                if (atributo === ' ') {
                    final[atributo] = ' ';
                }
                else {
                    final[atributo] = 'Agrupaci√≥n';
                }
            }
            else {
                final[atributo] = nAciertos[listaAciertos[0]];
            }
        }
        return (final);
    }
    const campos = {
        Tipo_accidente: 'Tipo de accidente',
        Subtipo_Accidente: 'Subtipo de Accidente',
        Sentido: 'Sentido',
        Superficie: 'Superficie',
        Luminosidad: 'Luminosidad',
        Factores_atmosfericos: 'Factores atmosf√©ricos',
        Tipo_dia: 'Tipo de d√≠a',
        Factor_Concurrente_3: 'Factor concurrente'
    };
    const activeViewChangeHandler = (jmv) => {
        if (jmv) {
            setJimuMapView(jmv);
        }
    };
    function generarColorAleatorio() {
        return [
            Math.floor(Math.random() * 256),
            Math.floor(Math.random() * 256),
            Math.floor(Math.random() * 256)
        ];
    }
    const fieldsListChangeHandler = (evt, item) => {
        if (evt) {
            setNombre(evt.target.value);
            props.onUpdate(evt.target.value);
        }
    };
    const ejecucion = () => {
        setEjecutar(true);
        props.onRun(true);
    };
    function selectAgregate(listaItems) {
        return (react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_4__.SettingSection, { className: "attribute-selector-section", title: 'Este atributo tiene m\u00E1s de 10 categor\u00EDas, l\u00EDmite que el mapa no permite visualizar. Seleccione como m\u00E1ximo 9 atributos para visualizarlos en el mapa.' },
            react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.MultiSelect
            //values = {values}
            , { 
                //values = {values}
                items: listaItems, placeholder: "Selecione 9 atributos \u00FAnicos", displayByValues: function displayValues(values) {
                    return `${values.length} seleccionados`;
                }, 
                //values={values}
                onClickItem: function seleccionValores(evt, value, selectedValues) {
                    if (selectedValues.length <= 10) {
                        setValoresAgg(selectedValues);
                    }
                } })));
    }
    const createPieChartRenderer = (layer, attUnique) => __awaiter(this, void 0, void 0, function* () {
        const { renderer, fields } = yield esri_smartMapping_renderers_pieChart__WEBPACK_IMPORTED_MODULE_6__.createRendererForClustering({
            layer,
            legendOptions: {
                title: campos[nombre]
            }
        });
        const atributos = [];
        fields.forEach(field => {
            atributos.push(field.name.split('_').map((name) => (name.replace('SUM', ''))).join(' ').replace('SUM', '').slice(1, field.name.split('_').map((name) => (name.replace('SUM', ''))).join(' ').replace('SUM', '').length));
        });
        let nombresCod;
        if (nombre === 'Tipo_accidente') {
            nombresCod = {
                'Salidas de v a': 'Salidas de v√≠a',
                Colisiones: 'Colisiones',
                Alcances: 'Alcances',
                Choques: 'Choques',
                Otros: 'Otros',
                'Atropellos de animales': 'Atropellos de animales',
                Caidas: 'Ca√≠das',
                Vuelcos: 'Vuelcos',
                'Atropellos de peatones': 'Atropellos de peatones',
                'cluster default': 'Agrupaci√≥n',
                'Sin datos': 'Sin datos'
            };
        }
        else {
            nombresCod = comparacion(atributos, attUnique);
        }
        const fieldInfos = fields.map(field => {
            return {
                fieldName: field.name,
                label: nombresCod[field.name.split('_').map((name) => (name.replace('SUM', ''))).join(' ').replace('SUM', '').slice(1, field.name.split('_').map((name) => (name.replace('SUM', ''))).join(' ').replace('SUM', '').length)],
                format: {
                    places: 0,
                    digitSeparator: true
                }
            };
        });
        if (attUnique.length < 11) {
            fieldInfos.pop();
        }
        // maps the field names for the popup chart
        const fieldNames = fieldInfos.map(field => {
            return field.fieldName;
        });
        const popupTemplate = {
            title: 'Resumen del cl√∫ster',
            content: [{
                    type: 'text',
                    text: 'This cluster represents <b>{cluster_count}</b> features. '
                },
                {
                    type: 'media',
                    mediaInfos: [{
                            title: 'Reports',
                            type: 'pie-chart',
                            value: {
                                fields: fieldNames
                            }
                        }]
                },
                {
                    type: 'fields'
                }],
            fieldInfos
        };
        // ---- Colores de cada sector desde el JSON ----
        renderer.attributes.forEach((attr) => {
            var _a;
            const base = attr.field
                .split('_')
                .map((n) => n.replace('SUM', ''))
                .join(' ')
                .replace('SUM', '');
            const label = (_a = nombresCod[base.slice(1)]) !== null && _a !== void 0 ? _a : base.slice(1);
            const c = getColorFromJson(nombre, label);
            if (c) {
                attr.symbol = attr.symbol || {};
                attr.symbol.color = c;
            }
        });
        // renderer.attributes.map((field) => {
        //   if (attUnique.length < 11 && field.field.includes('default')) {
        //     return (renderer.attributes.splice(renderer.attributes.findIndex(function (elemento) {
        //       return elemento.field === field.field
        //     }), 1))
        //   } else {
        //     return (field.label = nombresCod[field.field.split('_').map((name) => (name.replace('SUM', ''))).join(' ').replace('SUM', '').slice(1, field.field.split('_').map((name) => (name.replace('SUM', ''))).join(' ').replace('SUM', '').length)])
        //   }
        // })
        layer.featureReduction = {
            type: 'cluster',
            fields: fields,
            clusterMinSize: 25,
            renderer,
            popupTemplate,
            labelingInfo: []
        };
        setEjecutar(false);
    });
    // function cleanArrayValues(arr: Array<string | null | undefined>): string[] {
    // // return arr
    // //   .filter((item): item is string => typeof item === 'string') // quita null/undefined
    // //   .map(item => item.trim()); // elimina espacios al inicio y final
    // }
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {
        if (jimuMapView && nombre && nombreCapa !== '') {
            const layer1 = jimuMapView.view.map.findLayerById(nombreCapa);
            const field = layer1.getField(nombre);
            const query = layer1.createQuery();
            query.outFields = [field.name];
            query.maxRecordCountFactor = 3;
            const obtenerAttUnique = () => __awaiter(this, void 0, void 0, function* () {
                const attributes = [];
                const result = yield layer1.queryFeatures(query);
                result.features.forEach((feature) => {
                    const value = feature.attributes[field.name];
                    attributes.push(value);
                });
                const attUnique = Array.from(new Set(attributes));
                console.log(attUnique);
                // console.log(cleanArrayValues(attUnique))
                if (ejecutar) {
                    const appConf = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig;
                    appConf.attUnique = attUnique && attUnique.length ? attUnique : [
                        'Salidas de v√≠a',
                        'Colisiones',
                        'Alcances',
                        'Choques',
                        'Otros',
                        'Atropellos de animales',
                        'Ca√≠das',
                        'Vuelcos',
                        'Atropellos de peatones',
                        'Sin datos'
                    ];
                }
                return attUnique;
            });
            obtenerAttUnique().then((attUnique) => {
                const items = [];
                attUnique.forEach((att) => {
                    const item = {};
                    if (att === null) {
                        item['value'] = 'Sin datos';
                        item['label'] = 'Sin datos';
                    }
                    else {
                        item['value'] = att.toString();
                        item['label'] = att.toString();
                    }
                    items.push(item);
                });
                setSeleccionables(items);
                window.attUnique = attUnique;
                window.valoresAgg = valoresAgg;
                if (ejecutar) {
                    if (valoresAgg.length <= 25 && valoresAgg.length !== 0) {
                        for (const att of attUnique) {
                            let coincidencias = 0;
                            for (const att2 of valoresAgg) {
                                if (att === att2) {
                                    coincidencias++;
                                }
                            }
                            if (coincidencias === 0) {
                                valoresAgg.push(att);
                                break;
                            }
                        }
                        simbologia(valoresAgg.slice(0, -1), layer1, field.name);
                    }
                    else {
                        simbologia(attUnique, layer1, field.name);
                    }
                    setAttUnico(attUnique);
                    cluster ? createPieChartRenderer(layer1, attUnique) : layer1.featureReduction = {};
                    setEjecutar(false);
                }
            });
            function simbologia(listaValores, capa, campo) {
                const symbology = [];
                const valueColor = {};
                for (const atributo of listaValores) {
                    // 1) Color desde JSON como string (rgb / rgba)
                    const fromJson = getColorFromJson(campo, String(atributo));
                    let colorForMap; // lo que va a symbol.color
                    let rgbArray; // SIEMPRE [r,g,b] para valueColor
                    if (fromJson) {
                        // Intentamos extraer [r,g,b] del string
                        const parsed = parseRgba(fromJson);
                        if (parsed) {
                            rgbArray = parsed;
                            colorForMap = fromJson; // el mapa puede trabajar con el string
                        }
                        else {
                            // Si el string no se puede parsear, caemos a random pero consistente
                            rgbArray = generarColorAleatorio();
                            colorForMap = rgbArray;
                        }
                    }
                    else {
                        // No hay JSON para este campo ‚Üí random pero consistente
                        rgbArray = generarColorAleatorio();
                        colorForMap = rgbArray;
                    }
                    // üëâ Esto es lo que luego usan los gr√°ficos: siempre [r,g,b]
                    valueColor[String(atributo)] = rgbArray;
                    symbology.push({
                        value: atributo,
                        label: atributo,
                        symbol: {
                            type: 'simple-marker',
                            color: colorForMap,
                            outline: null,
                            size: 6
                        }
                    });
                }
                const colorAgg = [195, 195, 195];
                const renderer = new esri_renderers_UniqueValueRenderer__WEBPACK_IMPORTED_MODULE_5__["default"]({
                    field: campo,
                    defaultSymbol: {
                        type: 'simple-marker',
                        color: colorAgg,
                        outline: null,
                        size: 6
                    },
                    uniqueValueInfos: symbology
                });
                // üëâ Aqu√≠ mandas SOLO arrays [r,g,b] al widget de gr√°ficos
                props.onAtt(valueColor);
                // ‚ùå Antes: capa.renderer = r
                // ‚úÖ Ahora:
                capa.renderer = renderer;
            }
        }
        setValoresAgg([]);
    }, [jimuMapView, nombre, nombreCapa, ejecutar]);
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {
        if (jimuMapView && nombre && nombreCapa !== undefined) {
            const layer1 = jimuMapView.view.map.findLayerById(nombreCapa);
            cluster ? createPieChartRenderer(layer1, attUnico) : layer1.featureReduction = {};
            setEjecutar(false);
        }
    }, [cluster]);
    return (react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement("div", { className: "widget-setting-get-map-coordinates" },
        react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement("div", { className: "widget-starter jimu-widget" }, props.useMapWidgetIds && props.useMapWidgetIds.length === 1 && (react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.JimuMapViewComponent, { useMapWidgetId: (_a = props.useMapWidgetIds) === null || _a === void 0 ? void 0 : _a[0], onActiveViewChange: activeViewChangeHandler }))),
        props.useDataSources && props.useDataSources.length > 0 &&
            react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_4__.SettingSection, { className: "attribute-selector-section", title: props.intl.formatMessage({
                    id: 'chooseAttributeSelectorLabel',
                    defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_1__["default"].chooseAttribute
                }) },
                react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.Select, { value: nombre, onChange: fieldsListChangeHandler, placeholder: "Seleccione un campo...", autoWidth: true, menuProps: {
                        showArrow: true
                    } }, Object.keys(campos).map((campo) => (react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement("option", { key: campo, value: campo }, campos[campo]))))),
        (nombre === 'Subtipo_Accidente') &&
            selectAgregate(seleccionables),
        (nombre === 'Factor_Concurrente_3') &&
            selectAgregate(seleccionables),
        react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_4__.SettingSection, { className: "attribute-selector-section" },
            react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.Button, { onClick: ejecucion, size: "sm" }, "Ejecutar"),
            ejecutar &&
                react__WEBPACK_IMPORTED_MODULE_3__["default"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.Loading, { height: 200, type: "DONUT", width: 200 }))));
}
function __set_webpack_public_path__(url) { __webpack_require__.p = url; }

})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9sZXllbmRhX2RpbmFtaWNhL2Rpc3QvcnVudGltZS93aWRnZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQWtCRTtBQUNGLGlFQUFlO0lBQ2IsWUFBWSxFQUFFLGtCQUFrQjtJQUNoQyxlQUFlLEVBQUUsNEJBQTRCO0NBQzlDOzs7Ozs7Ozs7Ozs7QUN0QkQ7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O1VDQUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N0QkE7V0FDQTtXQUNBO1dBQ0E7V0FDQSx5Q0FBeUMsd0NBQXdDO1dBQ2pGO1dBQ0E7V0FDQTs7Ozs7V0NQQTs7Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7O1dDTkE7Ozs7Ozs7Ozs7QUNBQTs7O0tBR0s7QUFDTCwyQkFBMkI7QUFDM0IsYUFBYTtBQUNiLHFCQUF1QixHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsT0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTm1DO0FBRWxDO0FBRWdCO0FBQ2xCO0FBR047QUFDd0I7QUFDVztBQUNhO0FBQzVGLDRDQUE0QztBQUM1Qyw4REFBOEQ7QUFHOUQsb0NBQW9DO0FBQ3BDLHFEQUFxRDtBQUMrQjtBQUVwRixNQUFNLFlBQVksR0FBRyxDQUFDLENBQVMsRUFBRSxFQUFFO0lBQ2pDLElBQUksQ0FBQyxDQUFDO1FBQUUs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SyxtQkFBbUIsQ0FBQztZQUMvQixjQUFjLENBQUMsY0FBYyxDQUFDO1FBVy9CLENBQUMsTUFBTSxLQUFLLHNCQUFzQixDQUFDO1lBQ2xDLGNBQWMsQ0FBQyxjQUFjLENBQUM7UUFFaEMsNERBQUMsK0VBQWMsSUFDYixTQUFTLEVBQUMsNEJBQTRCO1lBRXBDLDREQUFDLDJDQUFNLElBQ0wsT0FBTyxFQUFFLFNBQVMsRUFDbEIsSUFBSSxFQUFDLElBQUksZUFHRjtZQUNSLFFBQVE7Z0JBQ1IsNERBQUMsNENBQU8sSUFDUCxNQUFNLEVBQUUsR0FBRyxFQUNYLElBQUksRUFBQyxPQUFPLEVBQ1osS0FBSyxFQUFFLEdBQUcsR0FDUixDQUVTLENBUWYsQ0FDUDtBQUNILENBQUM7QUFFTyxTQUFTLDJCQUEyQixDQUFDLEdBQUcsSUFBSSxxQkFBdUIsR0FBRyxHQUFHLEVBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9sZXllbmRhX2RpbmFtaWNhL3NyYy9ydW50aW1lL3RyYW5zbGF0aW9ucy9kZWZhdWx0LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiZXNyaS9yZW5kZXJlcnMvVW5pcXVlVmFsdWVSZW5kZXJlclwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiZXNyaS9zbWFydE1hcHBpbmcvcmVuZGVyZXJzL3BpZUNoYXJ0XCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWFyY2dpc1wiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1jb3JlXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWNvcmUvcmVhY3RcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtdWlcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtY29yZS9saWIvc2V0LXB1YmxpYy1wYXRoLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9sZXllbmRhX2RpbmFtaWNhL3NyYy9ydW50aW1lL3dpZGdldC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gIExpY2Vuc2luZ1xuXG4gIENvcHlyaWdodCAyMDIyIEVzcmlcblxuICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyBZb3VcbiAgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yXG4gIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZ1xuICBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiAgQSBjb3B5IG9mIHRoZSBsaWNlbnNlIGlzIGF2YWlsYWJsZSBpbiB0aGUgcmVwb3NpdG9yeSdzXG4gIExJQ0VOU0UgZmlsZS5cbiovXG5leHBvcnQgZGVmYXVsdCB7XG4gIF93aWRnZXRMYWJlbDogJ0xleWVuZGEgZGluw6FtaWNhJyxcbiAgY2hvb3NlQXR0cmlidXRlOiAnVmlzdWFsaXphY2nDs24gcG9yIGF0cmlidXRvJ1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2VzcmlfcmVuZGVyZXJzX1VuaXF1ZVZhbHVlUmVuZGVyZXJfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZXNyaV9zbWFydE1hcHBpbmdfcmVuZGVyZXJzX3BpZUNoYXJ0X187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfYXJjZ2lzX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfY29yZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfYWR2YW5jZWRfc2V0dGluZ19jb21wb25lbnRzX187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIi8qKlxyXG4gKiBXZWJwYWNrIHdpbGwgcmVwbGFjZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB3aXRoIF9fd2VicGFja19yZXF1aXJlX18ucCB0byBzZXQgdGhlIHB1YmxpYyBwYXRoIGR5bmFtaWNhbGx5LlxyXG4gKiBUaGUgcmVhc29uIHdoeSB3ZSBjYW4ndCBzZXQgdGhlIHB1YmxpY1BhdGggaW4gd2VicGFjayBjb25maWcgaXM6IHdlIGNoYW5nZSB0aGUgcHVibGljUGF0aCB3aGVuIGRvd25sb2FkLlxyXG4gKiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuLy8gQHRzLWlnbm9yZVxyXG5fX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHdpbmRvdy5qaW11Q29uZmlnLmJhc2VVcmxcclxuIiwiaW1wb3J0IHsganN4LCBJbW11dGFibGUsIEppbXVGaWVsZFR5cGUsIEltbXV0YWJsZUFycmF5LCBnZXRBcHBTdG9yZSB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBJTUNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZydcclxuaW1wb3J0IGRlZmF1bHRNZXNzYWdlcyBmcm9tICcuL3RyYW5zbGF0aW9ucy9kZWZhdWx0J1xyXG5pbXBvcnQgeyB0eXBlIEFsbFdpZGdldFNldHRpbmdQcm9wcyB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXInXHJcbmltcG9ydCB7IEppbXVNYXBWaWV3Q29tcG9uZW50LCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7XHJcbiAgU2V0dGluZ1NlY3Rpb25cclxufSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcclxuaW1wb3J0IFVuaXF1ZVZhbHVlUmVuZGVyZXIgZnJvbSAnZXNyaS9yZW5kZXJlcnMvVW5pcXVlVmFsdWVSZW5kZXJlcidcclxuaW1wb3J0ICogYXMgcGllQ2hhcnRSZW5kZXJlckNyZWF0b3IgZnJvbSAnZXNyaS9zbWFydE1hcHBpbmcvcmVuZGVyZXJzL3BpZUNoYXJ0J1xyXG5pbXBvcnQgeyBTZWxlY3QsIE11bHRpU2VsZWN0LCB0eXBlIE11bHRpU2VsZWN0SXRlbSwgQnV0dG9uLCBMb2FkaW5nLCBTd2l0Y2ggfSBmcm9tICdqaW11LXVpJ1xyXG4vLyBpbXBvcnQgTGVnZW5kIGZyb20gXCJlc3JpL3dpZGdldHMvTGVnZW5kXCI7XHJcbi8vIGltcG9ydCBMZWdlbmRWTSBmcm9tIFwiZXNyaS93aWRnZXRzL0xlZ2VuZC9MZWdlbmRWaWV3TW9kZWxcIjtcclxuXHJcblxyXG4vLyBJTVBPUlRBIFRVIERJQ0NJT05BUklPIERFIENPTE9SRVNcclxuLy8gQWp1c3RhIGxhIHJ1dGEgc2kgZWwgYXJjaGl2byBlc3TDoSBlbiBvdHJhIGNhcnBldGEuXHJcbmltcG9ydCBhY2NpZGVudENvbG9ycyBmcm9tICcuLi8uLi8uLi9wcnVlYmFzL3NyYy9ydW50aW1lL2Fzc2V0cy9hY2NpZGVudENvbG9ycy5qc29uJ1xyXG5cclxuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHM6IHN0cmluZykgPT4ge1xyXG4gIGlmICghcykgcmV0dXJuIFwiXCI7XHJcblxyXG4gIC8vIENvcnJlY2Npw7NuIGRlIGVycm9yZXMgZnJlY3VlbnRlcyBkZXNkZSBsYSBjYXBhXHJcbiAgY29uc3QgY29ycmVjdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICBcImludWRhZG9cIjogXCJpbnVuZGFkb1wiLFxyXG4gICAgXCJlbmNoYXJjYWRvXCI6IFwiZW5jaGFyY2Fkb1wiLFxyXG4gICAgXCJncmF2aWxsYVwiOiBcImdyYXZpbGxhXCIsXHJcbiAgICBcImJhcnJvXCI6IFwiYmFycm9cIlxyXG4gIH07XHJcblxyXG4gIC8vIDEpIHF1aXRhciB0aWxkZXMgeSBtaW7DunNjdWxhc1xyXG4gIGxldCByZXN1bHQgPSBzXHJcbiAgICAubm9ybWFsaXplKFwiTkZEXCIpXHJcbiAgICAucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIilcclxuICAgIC50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAvLyAyKSBhcGxpY2FyIGNvcnJlY2Npb25lcyBpbnRlcm5hc1xyXG4gIE9iamVjdC5rZXlzKGNvcnJlY3Rpb25zKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShuZXcgUmVnRXhwKGtleSwgXCJnXCIpLCBjb3JyZWN0aW9uc1trZXldKTtcclxuICB9KTtcclxuXHJcbiAgLy8gMykgZWxpbWluYXIgcGFsYWJyYXMgaXJyZWxldmFudGVzXHJcbiAgY29uc3Qgc3RvcHdvcmRzID0gW1wiZGVcIiwgXCJkZWxcIiwgXCJsYVwiLCBcImVsXCIsIFwibG9zXCIsIFwibGFzXCIsIFwib1wiLCBcInlcIl07XHJcbiAgcmVzdWx0ID0gcmVzdWx0XHJcbiAgICAuc3BsaXQoL1xccysvKVxyXG4gICAgLmZpbHRlcih3b3JkID0+ICFzdG9wd29yZHMuaW5jbHVkZXMod29yZCkpXHJcbiAgICAuam9pbihcIiBcIik7XHJcblxyXG4gIC8vIDQpIGxpbXBpYXIgY2FyYWN0ZXJlc1xyXG4gIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9bXmEtejAtOV0rL2csIFwiX1wiKTtcclxuXHJcbiAgcmV0dXJuIHJlc3VsdC5yZXBsYWNlKC9eX3xfJC9nLCBcIlwiKTtcclxufTtcclxuXHJcblxyXG5cclxuXHJcbi8qKiBleHRyYWUgW3IsZyxiXSBkZXNkZSAncmdiYShyLGcsYixhKScgbyAncmdiKHIsZyxiKScgKi9cclxuY29uc3QgcGFyc2VSZ2JhID0gKHJnYmE6IHN0cmluZyk6IG51bWJlcltdIHwgbnVsbCA9PiB7XHJcbiAgY29uc3QgbSA9IHJnYmE/Lm1hdGNoKC9yZ2JhP1xccypcXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspL2kpXHJcbiAgcmV0dXJuIG0gPyBbTnVtYmVyKG1bMV0pLCBOdW1iZXIobVsyXSksIE51bWJlcihtWzNdKV0gOiBudWxsXHJcbn1cclxuXHJcblxyXG4gZnVuY3Rpb24gY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHN0cikge1xyXG4gICAgaWYgKCFzdHIpIHJldHVybiAnJztcclxuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XHJcbiAgfVxyXG4vKiogb2J0aWVuZSBlbCBjb2xvciBbcixnLGJdIGRlc2RlIGVsIEpTT04gcGFyYSAoY2FtcG8sIHZhbG9yKS4gU2kgbm8gZXhpc3RlIC0+IG51bGwgKi9cclxuY29uc3QgZ2V0Q29sb3JGcm9tSnNvbiA9IChmaWVsZE5hbWU6IHN0cmluZywgdmFsdWU6IFN0cmluZykgPT4ge1xyXG5cclxuXHJcbiAgICB2YXIgY2FtcG9QcmltZXJhTWF5dXNjdWxhcyA9IGNhcGl0YWxpemVGaXJzdExldHRlcihmaWVsZE5hbWUpO1xyXG4gICAgaWYoYWNjaWRlbnRDb2xvcnNbY2FtcG9QcmltZXJhTWF5dXNjdWxhc10pe1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGFjY2lkZW50Q29sb3JzW2NhbXBvUHJpbWVyYU1heXVzY3VsYXNdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQcmltZXJvOicrYWNjaWRlbnRDb2xvcnNbY2FtcG9QcmltZXJhTWF5dXNjdWxhc11ba2V5XS5ub21icmUudG9Mb3dlckNhc2UoKSsnICAgICAgU2VndW5kbzogICAgJyt2YWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdTZWd1bmRvJyt2YWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgbm9ybWFsaXplS2V5KGFjY2lkZW50Q29sb3JzW2NhbXBvUHJpbWVyYU1heXVzY3VsYXNdW2tleV0ubm9tYnJlLnRvTG93ZXJDYXNlKCkpID09PVxyXG4gICAgICAgICAgICAgIG5vcm1hbGl6ZUtleSh2YWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjaWRlbnRDb2xvcnNbY2FtcG9QcmltZXJhTWF5dXNjdWxhc11ba2V5XS5jb2xvcjtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBcInJnYigyMDAsIDIwMCwgMjAwKVwiO1xyXG5cclxuICAgIH1lbHNle1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgICAgXHJcbn1cclxuXHJcbi8vIEV4dGllbmRlIGxhcyBwcm9wcyBwYXJhIGluY2x1aXIgbGEgZnVuY2nDs24gb25VcGRhdGVcclxuaW50ZXJmYWNlIERpbkxleWVuZFByb3BzIGV4dGVuZHMgQWxsV2lkZ2V0U2V0dGluZ1Byb3BzPElNQ29uZmlnPiB7XHJcbiAgb25VcGRhdGU6IChuZXdTdGF0ZTogc3RyaW5nKSA9PiB2b2lkXHJcbiAgb25SdW46IChydW5TdDogYm9vbGVhbikgPT4gdm9pZFxyXG4gIG9uQXR0OiAoYXR0U3Q6IHt9KSA9PiB2b2lkXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERpbkxleWVuZCAocHJvcHM6IERpbkxleWVuZFByb3BzKSB7XHJcbiAgY29uc3Qgc3VwcG9ydGVkRmllbGRUeXBlcyA9IEltbXV0YWJsZShbSmltdUZpZWxkVHlwZS5TdHJpbmddKVxyXG4gIGNvbnN0IFtub21icmUsIHNldE5vbWJyZV0gPSB1c2VTdGF0ZSgnJykvL1RpcG9fYWNjaWRlbnRlXHJcbiAgY29uc3QgW2ppbXVNYXBWaWV3LCBzZXRKaW11TWFwVmlld10gPSB1c2VTdGF0ZTxKaW11TWFwVmlldz4oKVxyXG4gIGNvbnN0IFtub21icmVDYXBhLCBzZXROb21icmVDYXBhXSA9IHVzZVN0YXRlKCcnKVxyXG4gIGNvbnN0IFtzZWxlY2Npb25hYmxlcywgc2V0U2VsZWNjaW9uYWJsZXNdID0gdXNlU3RhdGU8SW1tdXRhYmxlQXJyYXk8TXVsdGlTZWxlY3RJdGVtPj4oSW1tdXRhYmxlKFtdKSlcclxuICBjb25zdCBbdmFsb3Jlc0FnZywgc2V0VmFsb3Jlc0FnZ10gPSB1c2VTdGF0ZShbXSlcclxuICBjb25zdCBbZWplY3V0YXIsIHNldEVqZWN1dGFyXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gIGNvbnN0IFtjbHVzdGVyLCBzZXRDbHVzdGVyXSA9IHVzZVN0YXRlKHRydWUpXHJcbiAgY29uc3QgW2F0dFVuaWNvLCBzZXRBdHRVbmljb10gPSB1c2VTdGF0ZShbXSlcclxuICAvLyBjb25zdCBbbGF5ZXIsIHNldExheWVyXSA9IHVzZVN0YXRlPExheWVyPigpXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAocHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgcHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBub21icmVDYXBhID0gcHJvcHMudXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkLnNwbGl0KCctJylbMV1cclxuICAgICAgc2V0Tm9tYnJlQ2FwYShub21icmVDYXBhKSAvLyBObyBjYW1iaWEgZWwgZXN0aWxvIGFsIGNhbWJpYXIgbGEgZnVlbnRlIGRlIGRhdG9zIGRlIGxhIGNhcGEsIG1pcmFybG8gYmllblxyXG4gICAgfVxyXG4gIH0sIFtwcm9wcy51c2VEYXRhU291cmNlc10pXHJcblxyXG4gIGZ1bmN0aW9uIGNvbXBhcmFjaW9uIChhdHJpYnV0b3MsIGxpc3RhTm9tYnJlcykge1xyXG4gICAgY29uc3QgZmluYWwgPSB7fVxyXG4gICAgbGlzdGFOb21icmVzID0gbGlzdGFOb21icmVzLm1hcChTdHJpbmcpXHJcbiAgICBmb3IgKGNvbnN0IGF0cmlidXRvIG9mIGF0cmlidXRvcykge1xyXG4gICAgICBjb25zdCBuQWNpZXJ0b3MgPSB7fVxyXG4gICAgICBjb25zdCBsaXN0YUFjaWVydG9zID0gW11cclxuICAgICAgZm9yIChjb25zdCBub21icmUgb2YgbGlzdGFOb21icmVzKSB7XHJcbiAgICAgICAgbGV0IGFjaWVydG9zID0gMFxyXG4gICAgICAgIGlmIChhdHJpYnV0by5sZW5ndGggPT09IG5vbWJyZS5sZW5ndGgpIHtcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXRyaWJ1dG8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGF0cmlidXRvW2ldID09PSBub21icmVbaV0pIHtcclxuICAgICAgICAgICAgICBhY2llcnRvcysrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbkFjaWVydG9zW2FjaWVydG9zXSA9IG5vbWJyZVxyXG4gICAgICAgIGxpc3RhQWNpZXJ0b3MucHVzaChhY2llcnRvcylcclxuICAgICAgfVxyXG4gICAgICBmdW5jdGlvbiBjb21wYXJhciAoYSwgYikge1xyXG4gICAgICAgIHJldHVybiBiIC0gYSAvLyBSZXN0YSBiIGRlIGEgcGFyYSBvcmRlbmFyIGRlIG1heW9yIGEgbWVub3JcclxuICAgICAgfVxyXG4gICAgICBsaXN0YUFjaWVydG9zLnNvcnQoY29tcGFyYXIpXHJcbiAgICAgIGlmIChsaXN0YUFjaWVydG9zWzBdID09PSAwKSB7XHJcbiAgICAgICAgaWYgKGF0cmlidXRvID09PSAnICcpIHtcclxuICAgICAgICAgIGZpbmFsW2F0cmlidXRvXSA9ICcgJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBmaW5hbFthdHJpYnV0b10gPSAnQWdydXBhY2nDs24nXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpbmFsW2F0cmlidXRvXSA9IG5BY2llcnRvc1tsaXN0YUFjaWVydG9zWzBdXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGZpbmFsKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgY2FtcG9zID0ge1xyXG4gICAgVGlwb19hY2NpZGVudGU6ICdUaXBvIGRlIGFjY2lkZW50ZScsXHJcbiAgICBTdWJ0aXBvX0FjY2lkZW50ZTogJ1N1YnRpcG8gZGUgQWNjaWRlbnRlJyxcclxuICAgIFNlbnRpZG86ICdTZW50aWRvJyxcclxuICAgIFN1cGVyZmljaWU6ICdTdXBlcmZpY2llJyxcclxuICAgIEx1bWlub3NpZGFkOiAnTHVtaW5vc2lkYWQnLFxyXG4gICAgRmFjdG9yZXNfYXRtb3NmZXJpY29zOiAnRmFjdG9yZXMgYXRtb3Nmw6lyaWNvcycsXHJcbiAgICBUaXBvX2RpYTogJ1RpcG8gZGUgZMOtYScsXHJcbiAgICBGYWN0b3JfQ29uY3VycmVudGVfMzogJ0ZhY3RvciBjb25jdXJyZW50ZSdcclxuICB9XHJcblxyXG4gIGNvbnN0IGFjdGl2ZVZpZXdDaGFuZ2VIYW5kbGVyID0gKGptdjogSmltdU1hcFZpZXcpID0+IHtcclxuICAgIGlmIChqbXYpIHtcclxuICAgICAgc2V0SmltdU1hcFZpZXcoam12KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2VuZXJhckNvbG9yQWxlYXRvcmlvICgpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NiksXHJcbiAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NiksXHJcbiAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NilcclxuICAgIF1cclxuICB9XHJcblxyXG4gIGNvbnN0IGZpZWxkc0xpc3RDaGFuZ2VIYW5kbGVyID0gKGV2dCwgaXRlbSkgPT4ge1xyXG4gICAgaWYgKGV2dCkge1xyXG4gICAgICBzZXROb21icmUoZXZ0LnRhcmdldC52YWx1ZSlcclxuICAgICAgcHJvcHMub25VcGRhdGUoZXZ0LnRhcmdldC52YWx1ZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGVqZWN1Y2lvbiA9ICgpID0+IHtcclxuICAgIHNldEVqZWN1dGFyKHRydWUpXHJcbiAgICBwcm9wcy5vblJ1bih0cnVlKVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2VsZWN0QWdyZWdhdGUgKGxpc3RhSXRlbXMpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxTZXR0aW5nU2VjdGlvblxyXG4gICAgICAgIGNsYXNzTmFtZT1cImF0dHJpYnV0ZS1zZWxlY3Rvci1zZWN0aW9uXCJcclxuICAgICAgICB0aXRsZT0nRXN0ZSBhdHJpYnV0byB0aWVuZSBtw6FzIGRlIDEwIGNhdGVnb3LDrWFzLCBsw61taXRlIHF1ZSBlbCBtYXBhIG5vIHBlcm1pdGUgdmlzdWFsaXphci4gU2VsZWNjaW9uZSBjb21vIG3DoXhpbW8gOSBhdHJpYnV0b3MgcGFyYSB2aXN1YWxpemFybG9zIGVuIGVsIG1hcGEuJ1xyXG4gICAgICAgID5cclxuICAgICAgICA8TXVsdGlTZWxlY3RcclxuICAgICAgICAgIC8vdmFsdWVzID0ge3ZhbHVlc31cclxuICAgICAgICAgIGl0ZW1zID0ge2xpc3RhSXRlbXN9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjaW9uZSA5IGF0cmlidXRvcyDDum5pY29zXCJcclxuICAgICAgICAgIGRpc3BsYXlCeVZhbHVlcz17ZnVuY3Rpb24gZGlzcGxheVZhbHVlcyAodmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZXMubGVuZ3RofSBzZWxlY2Npb25hZG9zYFxyXG4gICAgICAgICAgfSB9XHJcbiAgICAgICAgICAvL3ZhbHVlcz17dmFsdWVzfVxyXG4gICAgICAgICAgb25DbGlja0l0ZW09e2Z1bmN0aW9uIHNlbGVjY2lvblZhbG9yZXMgKGV2dCwgdmFsdWUsIHNlbGVjdGVkVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlcy5sZW5ndGggPD0gMTApIHtcclxuICAgICAgICAgICAgICBzZXRWYWxvcmVzQWdnKHNlbGVjdGVkVmFsdWVzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IH1cclxuICAgICAgICAvPlxyXG4gICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG4gICAgKVxyXG4gIH1cclxuICBjb25zdCBjcmVhdGVQaWVDaGFydFJlbmRlcmVyID0gYXN5bmMgKGxheWVyLCBhdHRVbmlxdWUpID0+IHtcclxuICAgIGNvbnN0IHsgcmVuZGVyZXIsIGZpZWxkcyB9ID0gYXdhaXQgcGllQ2hhcnRSZW5kZXJlckNyZWF0b3IuY3JlYXRlUmVuZGVyZXJGb3JDbHVzdGVyaW5nKHtcclxuICAgICAgbGF5ZXIsXHJcbiAgICAgIGxlZ2VuZE9wdGlvbnM6IHtcclxuICAgICAgICB0aXRsZTogY2FtcG9zW25vbWJyZV1cclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBhdHJpYnV0b3MgPSBbXVxyXG4gICAgZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG4gICAgICBhdHJpYnV0b3MucHVzaChmaWVsZC5uYW1lLnNwbGl0KCdfJykubWFwKChuYW1lKSA9PiAobmFtZS5yZXBsYWNlKCdTVU0nLCAnJykpKS5qb2luKCcgJykucmVwbGFjZSgnU1VNJywgJycpLnNsaWNlKDEsIGZpZWxkLm5hbWUuc3BsaXQoJ18nKS5tYXAoKG5hbWUpID0+IChuYW1lLnJlcGxhY2UoJ1NVTScsICcnKSkpLmpvaW4oJyAnKS5yZXBsYWNlKCdTVU0nLCAnJykubGVuZ3RoKSlcclxuICAgIH0pXHJcbiAgICBsZXQgbm9tYnJlc0NvZFxyXG4gICAgaWYgKG5vbWJyZSA9PT0gJ1RpcG9fYWNjaWRlbnRlJykge1xyXG4gICAgICBub21icmVzQ29kID0ge1xyXG4gICAgICAgICdTYWxpZGFzIGRlIHYgYSc6ICdTYWxpZGFzIGRlIHbDrWEnLFxyXG4gICAgICAgIENvbGlzaW9uZXM6ICdDb2xpc2lvbmVzJyxcclxuICAgICAgICBBbGNhbmNlczogJ0FsY2FuY2VzJyxcclxuICAgICAgICBDaG9xdWVzOiAnQ2hvcXVlcycsXHJcbiAgICAgICAgT3Ryb3M6ICdPdHJvcycsXHJcbiAgICAgICAgJ0F0cm9wZWxsb3MgZGUgYW5pbWFsZXMnOiAnQXRyb3BlbGxvcyBkZSBhbmltYWxlcycsXHJcbiAgICAgICAgQ2FpZGFzOiAnQ2HDrWRhcycsXHJcbiAgICAgICAgVnVlbGNvczogJ1Z1ZWxjb3MnLFxyXG4gICAgICAgICdBdHJvcGVsbG9zIGRlIHBlYXRvbmVzJzogJ0F0cm9wZWxsb3MgZGUgcGVhdG9uZXMnLFxyXG4gICAgICAgICdjbHVzdGVyIGRlZmF1bHQnOiAnQWdydXBhY2nDs24nLFxyXG4gICAgICAgICdTaW4gZGF0b3MnOiAnU2luIGRhdG9zJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBub21icmVzQ29kID0gY29tcGFyYWNpb24oYXRyaWJ1dG9zLCBhdHRVbmlxdWUpXHJcbiAgICB9XHJcbiAgICBjb25zdCBmaWVsZEluZm9zID0gZmllbGRzLm1hcChmaWVsZCA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZmllbGROYW1lOiBmaWVsZC5uYW1lLFxyXG4gICAgICAgIGxhYmVsOiBub21icmVzQ29kW2ZpZWxkLm5hbWUuc3BsaXQoJ18nKS5tYXAoKG5hbWUpID0+IChuYW1lLnJlcGxhY2UoJ1NVTScsICcnKSkpLmpvaW4oJyAnKS5yZXBsYWNlKCdTVU0nLCAnJykuc2xpY2UoMSwgZmllbGQubmFtZS5zcGxpdCgnXycpLm1hcCgobmFtZSkgPT4gKG5hbWUucmVwbGFjZSgnU1VNJywgJycpKSkuam9pbignICcpLnJlcGxhY2UoJ1NVTScsICcnKS5sZW5ndGgpXSxcclxuICAgICAgICBmb3JtYXQ6IHtcclxuICAgICAgICAgIHBsYWNlczogMCxcclxuICAgICAgICAgIGRpZ2l0U2VwYXJhdG9yOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICApXHJcbiAgICBpZiAoYXR0VW5pcXVlLmxlbmd0aCA8IDExKSB7XHJcbiAgICAgIGZpZWxkSW5mb3MucG9wKClcclxuICAgIH1cclxuXHJcbiAgICAvLyBtYXBzIHRoZSBmaWVsZCBuYW1lcyBmb3IgdGhlIHBvcHVwIGNoYXJ0XHJcbiAgICBjb25zdCBmaWVsZE5hbWVzID0gZmllbGRJbmZvcy5tYXAoZmllbGQgPT4ge1xyXG4gICAgICByZXR1cm4gZmllbGQuZmllbGROYW1lXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHBvcHVwVGVtcGxhdGUgPSB7XHJcbiAgICAgIHRpdGxlOiAnUmVzdW1lbiBkZWwgY2zDunN0ZXInLFxyXG4gICAgICBjb250ZW50OiBbe1xyXG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgICB0ZXh0OiAnVGhpcyBjbHVzdGVyIHJlcHJlc2VudHMgPGI+e2NsdXN0ZXJfY291bnR9PC9iPiBmZWF0dXJlcy4gJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdHlwZTogJ21lZGlhJyxcclxuICAgICAgICBtZWRpYUluZm9zOiBbe1xyXG4gICAgICAgICAgdGl0bGU6ICdSZXBvcnRzJyxcclxuICAgICAgICAgIHR5cGU6ICdwaWUtY2hhcnQnLFxyXG4gICAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgICAgZmllbGRzOiBmaWVsZE5hbWVzXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfV1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6ICdmaWVsZHMnXHJcbiAgICAgIH1dLFxyXG4gICAgICBmaWVsZEluZm9zXHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLSBDb2xvcmVzIGRlIGNhZGEgc2VjdG9yIGRlc2RlIGVsIEpTT04gLS0tLVxyXG4gICAgcmVuZGVyZXIuYXR0cmlidXRlcy5mb3JFYWNoKChhdHRyOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgYmFzZSA9IGF0dHIuZmllbGRcclxuICAgICAgICAuc3BsaXQoJ18nKVxyXG4gICAgICAgIC5tYXAoKG46IHN0cmluZykgPT4gbi5yZXBsYWNlKCdTVU0nLCAnJykpXHJcbiAgICAgICAgLmpvaW4oJyAnKVxyXG4gICAgICAgIC5yZXBsYWNlKCdTVU0nLCAnJylcclxuICAgICAgY29uc3QgbGFiZWwgPSBub21icmVzQ29kW2Jhc2Uuc2xpY2UoMSldID8/IGJhc2Uuc2xpY2UoMSlcclxuICAgICAgY29uc3QgYyA9IGdldENvbG9yRnJvbUpzb24obm9tYnJlLCBsYWJlbClcclxuICAgICAgaWYgKGMpIHtcclxuICAgICAgICBhdHRyLnN5bWJvbCA9IGF0dHIuc3ltYm9sIHx8IHt9XHJcbiAgICAgICAgYXR0ci5zeW1ib2wuY29sb3IgPSBjXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8gcmVuZGVyZXIuYXR0cmlidXRlcy5tYXAoKGZpZWxkKSA9PiB7XHJcbiAgICAvLyAgIGlmIChhdHRVbmlxdWUubGVuZ3RoIDwgMTEgJiYgZmllbGQuZmllbGQuaW5jbHVkZXMoJ2RlZmF1bHQnKSkge1xyXG4gICAgLy8gICAgIHJldHVybiAocmVuZGVyZXIuYXR0cmlidXRlcy5zcGxpY2UocmVuZGVyZXIuYXR0cmlidXRlcy5maW5kSW5kZXgoZnVuY3Rpb24gKGVsZW1lbnRvKSB7XHJcbiAgICAvLyAgICAgICByZXR1cm4gZWxlbWVudG8uZmllbGQgPT09IGZpZWxkLmZpZWxkXHJcbiAgICAvLyAgICAgfSksIDEpKVxyXG4gICAgLy8gICB9IGVsc2Uge1xyXG4gICAgLy8gICAgIHJldHVybiAoZmllbGQubGFiZWwgPSBub21icmVzQ29kW2ZpZWxkLmZpZWxkLnNwbGl0KCdfJykubWFwKChuYW1lKSA9PiAobmFtZS5yZXBsYWNlKCdTVU0nLCAnJykpKS5qb2luKCcgJykucmVwbGFjZSgnU1VNJywgJycpLnNsaWNlKDEsIGZpZWxkLmZpZWxkLnNwbGl0KCdfJykubWFwKChuYW1lKSA9PiAobmFtZS5yZXBsYWNlKCdTVU0nLCAnJykpKS5qb2luKCcgJykucmVwbGFjZSgnU1VNJywgJycpLmxlbmd0aCldKVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9KVxyXG5cclxuICAgIGxheWVyLmZlYXR1cmVSZWR1Y3Rpb24gPSB7XHJcbiAgICAgIHR5cGU6ICdjbHVzdGVyJyxcclxuICAgICAgZmllbGRzOiBmaWVsZHMsXHJcbiAgICAgIGNsdXN0ZXJNaW5TaXplOiAyNSxcclxuICAgICAgcmVuZGVyZXIsXHJcbiAgICAgIHBvcHVwVGVtcGxhdGUsXHJcbiAgICAgICAgbGFiZWxpbmdJbmZvOiBbXSAgICAgIFxyXG4gICAgfVxyXG4gICAgc2V0RWplY3V0YXIoZmFsc2UpXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gZnVuY3Rpb24gY2xlYW5BcnJheVZhbHVlcyhhcnI6IEFycmF5PHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ+KTogc3RyaW5nW10ge1xyXG4gIC8vIC8vIHJldHVybiBhcnJcclxuICAvLyAvLyAgIC5maWx0ZXIoKGl0ZW0pOiBpdGVtIGlzIHN0cmluZyA9PiB0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIC8vIHF1aXRhIG51bGwvdW5kZWZpbmVkXHJcbiAgLy8gLy8gICAubWFwKGl0ZW0gPT4gaXRlbS50cmltKCkpOyAvLyBlbGltaW5hIGVzcGFjaW9zIGFsIGluaWNpbyB5IGZpbmFsXHJcbiAgLy8gfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGppbXVNYXBWaWV3ICYmIG5vbWJyZSAmJiBub21icmVDYXBhICE9PSAnJykge1xyXG4gICAgICBjb25zdCBsYXllcjEgPSBqaW11TWFwVmlldy52aWV3Lm1hcC5maW5kTGF5ZXJCeUlkKG5vbWJyZUNhcGEpXHJcbiAgICAgIGNvbnN0IGZpZWxkID0gbGF5ZXIxLmdldEZpZWxkKG5vbWJyZSlcclxuICAgICAgY29uc3QgcXVlcnkgPSBsYXllcjEuY3JlYXRlUXVlcnkoKVxyXG4gICAgICBxdWVyeS5vdXRGaWVsZHMgPSBbZmllbGQubmFtZV1cclxuICAgICAgcXVlcnkubWF4UmVjb3JkQ291bnRGYWN0b3IgPSAzXHJcbiAgICAgIGNvbnN0IG9idGVuZXJBdHRVbmlxdWUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbGF5ZXIxLnF1ZXJ5RmVhdHVyZXMocXVlcnkpXHJcbiAgICAgICAgcmVzdWx0LmZlYXR1cmVzLmZvckVhY2goKGZlYXR1cmUpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHZhbHVlID0gZmVhdHVyZS5hdHRyaWJ1dGVzW2ZpZWxkLm5hbWVdXHJcbiAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2godmFsdWUpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zdCBhdHRVbmlxdWUgPSBBcnJheS5mcm9tKG5ldyBTZXQoYXR0cmlidXRlcykpXHJcbiAgICAgICAgY29uc29sZS5sb2coYXR0VW5pcXVlKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNsZWFuQXJyYXlWYWx1ZXMoYXR0VW5pcXVlKSlcclxuICAgICAgICBpZiAoZWplY3V0YXIpIHtcclxuICAgICAgICAgIGNvbnN0IGFwcENvbmY6IGFueSA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWdcclxuICAgICAgICAgIGFwcENvbmYuYXR0VW5pcXVlID0gYXR0VW5pcXVlICYmIGF0dFVuaXF1ZS5sZW5ndGggPyBhdHRVbmlxdWUgOiBbXHJcbiAgICAgICAgICAgICAgJ1NhbGlkYXMgZGUgdsOtYScsXHJcbiAgICAgICAgICAgICAgJ0NvbGlzaW9uZXMnLFxyXG4gICAgICAgICAgICAgICdBbGNhbmNlcycsXHJcbiAgICAgICAgICAgICAgJ0Nob3F1ZXMnLFxyXG4gICAgICAgICAgICAgICdPdHJvcycsXHJcbiAgICAgICAgICAgICAgJ0F0cm9wZWxsb3MgZGUgYW5pbWFsZXMnLFxyXG4gICAgICAgICAgICAgICdDYcOtZGFzJyxcclxuICAgICAgICAgICAgICAnVnVlbGNvcycsXHJcbiAgICAgICAgICAgICAgJ0F0cm9wZWxsb3MgZGUgcGVhdG9uZXMnLFxyXG4gICAgICAgICAgICAgICdTaW4gZGF0b3MnXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhdHRVbmlxdWVcclxuICAgICAgfVxyXG5cclxuICAgICAgb2J0ZW5lckF0dFVuaXF1ZSgpLnRoZW4oKGF0dFVuaXF1ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW11cclxuICAgICAgICBhdHRVbmlxdWUuZm9yRWFjaCgoYXR0KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBpdGVtID0ge31cclxuICAgICAgICAgIGlmIChhdHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaXRlbVsndmFsdWUnXSA9ICdTaW4gZGF0b3MnXHJcbiAgICAgICAgICAgIGl0ZW1bJ2xhYmVsJ10gPSAnU2luIGRhdG9zJ1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaXRlbVsndmFsdWUnXSA9IGF0dC50b1N0cmluZygpXHJcbiAgICAgICAgICAgIGl0ZW1bJ2xhYmVsJ10gPSBhdHQudG9TdHJpbmcoKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaXRlbXMucHVzaChpdGVtKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgc2V0U2VsZWNjaW9uYWJsZXMoaXRlbXMgYXMgYW55KVxyXG4gICAgICAgIHdpbmRvdy5hdHRVbmlxdWU9YXR0VW5pcXVlO1xyXG4gICAgICAgIHdpbmRvdy52YWxvcmVzQWdnPXZhbG9yZXNBZ2c7XHJcbiAgICAgICAgaWYgKGVqZWN1dGFyKSB7XHJcbiAgICAgICAgICBpZiAodmFsb3Jlc0FnZy5sZW5ndGggPD0gMjUgJiYgdmFsb3Jlc0FnZy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBhdHQgb2YgYXR0VW5pcXVlKSB7XHJcbiAgICAgICAgICAgICAgbGV0IGNvaW5jaWRlbmNpYXMgPSAwXHJcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHQyIG9mIHZhbG9yZXNBZ2cpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhdHQgPT09IGF0dDIpIHtcclxuICAgICAgICAgICAgICAgICAgY29pbmNpZGVuY2lhcysrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChjb2luY2lkZW5jaWFzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxvcmVzQWdnLnB1c2goYXR0KVxyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2ltYm9sb2dpYSh2YWxvcmVzQWdnLnNsaWNlKDAsIC0xKSwgbGF5ZXIxLCBmaWVsZC5uYW1lKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2ltYm9sb2dpYShhdHRVbmlxdWUsIGxheWVyMSwgZmllbGQubmFtZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNldEF0dFVuaWNvKGF0dFVuaXF1ZSlcclxuICAgICAgICAgIGNsdXN0ZXIgPyBjcmVhdGVQaWVDaGFydFJlbmRlcmVyKGxheWVyMSwgYXR0VW5pcXVlKSA6IGxheWVyMS5mZWF0dXJlUmVkdWN0aW9uID0ge307IHNldEVqZWN1dGFyKGZhbHNlKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNpbWJvbG9naWEgKGxpc3RhVmFsb3JlczogYW55W10sIGNhcGE6IGFueSwgY2FtcG86IHN0cmluZykge1xyXG4gIGNvbnN0IHN5bWJvbG9neTogYW55W10gPSBbXVxyXG4gIGNvbnN0IHZhbHVlQ29sb3I6IFJlY29yZDxzdHJpbmcsIG51bWJlcltdPiA9IHt9XHJcblxyXG4gIGZvciAoY29uc3QgYXRyaWJ1dG8gb2YgbGlzdGFWYWxvcmVzKSB7XHJcbiAgICAvLyAxKSBDb2xvciBkZXNkZSBKU09OIGNvbW8gc3RyaW5nIChyZ2IgLyByZ2JhKVxyXG4gICAgY29uc3QgZnJvbUpzb24gPSBnZXRDb2xvckZyb21Kc29uKGNhbXBvLCBTdHJpbmcoYXRyaWJ1dG8pKVxyXG5cclxuICAgIGxldCBjb2xvckZvck1hcDogYW55ICAgICAgLy8gbG8gcXVlIHZhIGEgc3ltYm9sLmNvbG9yXHJcbiAgICBsZXQgcmdiQXJyYXk6IG51bWJlcltdICAgIC8vIFNJRU1QUkUgW3IsZyxiXSBwYXJhIHZhbHVlQ29sb3JcclxuXHJcbiAgICBpZiAoZnJvbUpzb24pIHtcclxuICAgICAgLy8gSW50ZW50YW1vcyBleHRyYWVyIFtyLGcsYl0gZGVsIHN0cmluZ1xyXG4gICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZVJnYmEoZnJvbUpzb24pXHJcbiAgICAgIGlmIChwYXJzZWQpIHtcclxuICAgICAgICByZ2JBcnJheSA9IHBhcnNlZFxyXG4gICAgICAgIGNvbG9yRm9yTWFwID0gZnJvbUpzb24gICAgICAvLyBlbCBtYXBhIHB1ZWRlIHRyYWJhamFyIGNvbiBlbCBzdHJpbmdcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBTaSBlbCBzdHJpbmcgbm8gc2UgcHVlZGUgcGFyc2VhciwgY2FlbW9zIGEgcmFuZG9tIHBlcm8gY29uc2lzdGVudGVcclxuICAgICAgICByZ2JBcnJheSA9IGdlbmVyYXJDb2xvckFsZWF0b3JpbygpXHJcbiAgICAgICAgY29sb3JGb3JNYXAgPSByZ2JBcnJheVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBObyBoYXkgSlNPTiBwYXJhIGVzdGUgY2FtcG8g4oaSIHJhbmRvbSBwZXJvIGNvbnNpc3RlbnRlXHJcbiAgICAgIHJnYkFycmF5ID0gZ2VuZXJhckNvbG9yQWxlYXRvcmlvKClcclxuICAgICAgY29sb3JGb3JNYXAgPSByZ2JBcnJheVxyXG4gICAgfVxyXG5cclxuICAgIC8vIPCfkYkgRXN0byBlcyBsbyBxdWUgbHVlZ28gdXNhbiBsb3MgZ3LDoWZpY29zOiBzaWVtcHJlIFtyLGcsYl1cclxuICAgIHZhbHVlQ29sb3JbU3RyaW5nKGF0cmlidXRvKV0gPSByZ2JBcnJheVxyXG5cclxuICAgIHN5bWJvbG9neS5wdXNoKHtcclxuICAgICAgdmFsdWU6IGF0cmlidXRvLFxyXG4gICAgICBsYWJlbDogYXRyaWJ1dG8sXHJcbiAgICAgIHN5bWJvbDoge1xyXG4gICAgICAgIHR5cGU6ICdzaW1wbGUtbWFya2VyJyxcclxuICAgICAgICBjb2xvcjogY29sb3JGb3JNYXAsXHJcbiAgICAgICAgb3V0bGluZTogbnVsbCxcclxuICAgICAgICBzaXplOiA2XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjb25zdCBjb2xvckFnZyA9IFsxOTUsIDE5NSwgMTk1XVxyXG4gIGNvbnN0IHJlbmRlcmVyID0gbmV3IFVuaXF1ZVZhbHVlUmVuZGVyZXIoe1xyXG4gICAgZmllbGQ6IGNhbXBvLFxyXG4gICAgZGVmYXVsdFN5bWJvbDoge1xyXG4gICAgICB0eXBlOiAnc2ltcGxlLW1hcmtlcicsXHJcbiAgICAgIGNvbG9yOiBjb2xvckFnZyxcclxuICAgICAgb3V0bGluZTogbnVsbCxcclxuICAgICAgc2l6ZTogNlxyXG4gICAgfSxcclxuICAgIHVuaXF1ZVZhbHVlSW5mb3M6IHN5bWJvbG9neVxyXG4gIH0pXHJcblxyXG4gIC8vIPCfkYkgQXF1w60gbWFuZGFzIFNPTE8gYXJyYXlzIFtyLGcsYl0gYWwgd2lkZ2V0IGRlIGdyw6FmaWNvc1xyXG4gIHByb3BzLm9uQXR0KHZhbHVlQ29sb3IpXHJcblxyXG4gIC8vIOKdjCBBbnRlczogY2FwYS5yZW5kZXJlciA9IHJcclxuICAvLyDinIUgQWhvcmE6XHJcbiAgY2FwYS5yZW5kZXJlciA9IHJlbmRlcmVyXHJcbn1cclxuXHJcbiAgICB9XHJcbiAgICBzZXRWYWxvcmVzQWdnKFtdKVxyXG4gIH0sIFtqaW11TWFwVmlldywgbm9tYnJlLCBub21icmVDYXBhLCBlamVjdXRhcl0pXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoamltdU1hcFZpZXcgJiYgbm9tYnJlICYmIG5vbWJyZUNhcGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBjb25zdCBsYXllcjEgPSBqaW11TWFwVmlldy52aWV3Lm1hcC5maW5kTGF5ZXJCeUlkKG5vbWJyZUNhcGEpXHJcbiAgICAgIGNsdXN0ZXIgPyBjcmVhdGVQaWVDaGFydFJlbmRlcmVyKGxheWVyMSwgYXR0VW5pY28pIDogbGF5ZXIxLmZlYXR1cmVSZWR1Y3Rpb24gPSB7fTsgc2V0RWplY3V0YXIoZmFsc2UpXHJcbiAgICB9XHJcbiAgfSwgW2NsdXN0ZXJdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ3aWRnZXQtc2V0dGluZy1nZXQtbWFwLWNvb3JkaW5hdGVzXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2lkZ2V0LXN0YXJ0ZXIgamltdS13aWRnZXRcIj5cclxuICAgICAgICAgIHtwcm9wcy51c2VNYXBXaWRnZXRJZHMgJiYgcHJvcHMudXNlTWFwV2lkZ2V0SWRzLmxlbmd0aCA9PT0gMSAmJiAoXHJcbiAgICAgICAgICA8SmltdU1hcFZpZXdDb21wb25lbnQgdXNlTWFwV2lkZ2V0SWQ9e3Byb3BzLnVzZU1hcFdpZGdldElkcz8uWzBdfSBvbkFjdGl2ZVZpZXdDaGFuZ2U9e2FjdGl2ZVZpZXdDaGFuZ2VIYW5kbGVyfSAvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIHtwcm9wcy51c2VEYXRhU291cmNlcyAmJiBwcm9wcy51c2VEYXRhU291cmNlcy5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgICA8U2V0dGluZ1NlY3Rpb25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXR0cmlidXRlLXNlbGVjdG9yLXNlY3Rpb25cIlxyXG4gICAgICAgICAgICB0aXRsZT17cHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICBpZDogJ2Nob29zZUF0dHJpYnV0ZVNlbGVjdG9yTGFiZWwnLFxyXG4gICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY2hvb3NlQXR0cmlidXRlXHJcbiAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8U2VsZWN0XHJcbiAgICAgICAgICAgICAgdmFsdWU9e25vbWJyZX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17ZmllbGRzTGlzdENoYW5nZUhhbmRsZXJ9XHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY2Npb25lIHVuIGNhbXBvLi4uXCJcclxuICAgICAgICAgICAgICBhdXRvV2lkdGhcclxuICAgICAgICAgICAgICBtZW51UHJvcHM9e3tcclxuICAgICAgICAgICAgICAgIHNob3dBcnJvdzogdHJ1ZVxyXG4gICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGNhbXBvcykubWFwKChjYW1wbykgPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Y2FtcG99IHZhbHVlPXtjYW1wb30+e2NhbXBvc1tjYW1wb119PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG4gICAgICAgIH1cclxuICAgICAgICB7Lyogeyhub21icmUgPT09ICdUaXBvX2FjY2lkZW50ZScpICYmXHJcbiAgICAgICAgICBzZWxlY3RBZ3JlZ2F0ZShzZWxlY2Npb25hYmxlcylcclxuICAgICAgICB9ICovfVxyXG4gICAgICAgIHsobm9tYnJlID09PSAnU3VidGlwb19BY2NpZGVudGUnKSAmJlxyXG4gICAgICAgICAgc2VsZWN0QWdyZWdhdGUoc2VsZWNjaW9uYWJsZXMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHsvKiB7KG5vbWJyZSA9PT0gJ0HDsW8nKSAmJlxyXG4gICAgICAgICAgc2VsZWN0QWdyZWdhdGUoc2VsZWNjaW9uYWJsZXMpXHJcbiAgICAgICAgfSAqL31cclxuICAgICAgICB7Lyogeyhub21icmUgPT09ICdTdXBlcmZpY2llJykgJiZcclxuICAgICAgICAgIHNlbGVjdEFncmVnYXRlKHNlbGVjY2lvbmFibGVzKVxyXG4gICAgICAgIH0gKi99XHJcbiAgICAgICAgey8qIHsobm9tYnJlID09PSAnRmFjdG9yZXNfYXRtb3NmZXJpY29zJykgJiZcclxuICAgICAgICAgIHNlbGVjdEFncmVnYXRlKHNlbGVjY2lvbmFibGVzKVxyXG4gICAgICAgIH0gKi99XHJcbiAgICAgICAgeyhub21icmUgPT09ICdGYWN0b3JfQ29uY3VycmVudGVfMycpICYmXHJcbiAgICAgICAgICBzZWxlY3RBZ3JlZ2F0ZShzZWxlY2Npb25hYmxlcylcclxuICAgICAgICB9IFxyXG4gICAgICAgIDxTZXR0aW5nU2VjdGlvblxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYXR0cmlidXRlLXNlbGVjdG9yLXNlY3Rpb25cIlxyXG4gICAgICAgID5cclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2VqZWN1Y2lvbn1cclxuICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgRWplY3V0YXJcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIHtlamVjdXRhciAmJlxyXG4gICAgICAgICAgICAgPExvYWRpbmdcclxuICAgICAgICAgICAgICBoZWlnaHQ9ezIwMH1cclxuICAgICAgICAgICAgICB0eXBlPVwiRE9OVVRcIlxyXG4gICAgICAgICAgICAgIHdpZHRoPXsyMDB9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG4gICAgICAgIHsvKiA8U2V0dGluZ1NlY3Rpb25cclxuICAgICAgICAgIGNsYXNzTmFtZT1cImF0dHJpYnV0ZS1zZWxlY3Rvci1zZWN0aW9uXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICAgIDxTd2l0Y2ggc3R5bGU9eyB7IHBhZGRpbmdUb3A6ICcxMHB4JyB9IH0gY2hlY2tlZD17Y2x1c3Rlcn0gb25DaGFuZ2U9eygpID0+IHtcclxuICAgICAgICAgICAgICBzZXRDbHVzdGVyKCFjbHVzdGVyKVxyXG4gICAgICAgICAgICB9fSAvPiAgIEFjdGl2YSBvIGRlc2FjdGl2YSBlbCBjbMO6c3RlclxyXG4gICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+ICovfVxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxuIGV4cG9ydCBmdW5jdGlvbiBfX3NldF93ZWJwYWNrX3B1YmxpY19wYXRoX18odXJsKSB7IF9fd2VicGFja19wdWJsaWNfcGF0aF9fID0gdXJsIH0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=